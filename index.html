<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Hello World</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello World">
<meta property="og:url" content="http://gwang-cv.github.io/index.html">
<meta property="og:site_name" content="Hello World">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello World">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://sites.google.com/site/2013gwang/logss.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Gang Wang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">a computer vision researcher</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
						<li>Ãœber</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/gwang-cv" title="github">github</a>
					        
								<a class="google" target="_blank" href="https://sites.google.com/site/2013gwang/" title="google">google</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Debug/" style="font-size: 17.5px;">Debug</a> <a href="/tags/DeepLearning/" style="font-size: 20px;">DeepLearning</a> <a href="/tags/ML/" style="font-size: 10px;">ML</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/Python/" style="font-size: 12.5px;">Python</a> <a href="/tags/Researcher/" style="font-size: 10px;">Researcher</a> <a href="/tags/python/" style="font-size: 10px;">python</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">Hello, I&#39;m Gang Wang. This is my blog, enjoy it.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Gang Wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="https://sites.google.com/site/2013gwang/logss.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Gang Wang</h1>
			</hgroup>
			
			<p class="header-subtitle">a computer vision researcher</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/gwang-cv" title="github">github</a>
			        
						<a class="google" target="_blank" href="https://sites.google.com/site/2013gwang/" title="google">google</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-Ubuntuä¸‹æŸ¥çœ‹OpenCVç‰ˆæœ¬å·" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/06/28/Ubuntuä¸‹æŸ¥çœ‹OpenCVç‰ˆæœ¬å·/" class="article-date">
  	<time datetime="2018-06-28T12:33:09.605Z" itemprop="datePublished">2018-06-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/Ubuntuä¸‹æŸ¥çœ‹OpenCVç‰ˆæœ¬å·/">Ubuntuä¸‹æŸ¥çœ‹OpenCVç‰ˆæœ¬å·</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>æŸ¥çœ‹Ubuntuä¸‹OpenCVç‰ˆæœ¬å·ï¼š</p>
<pre><code>pkg-config  <span class="comment">--modversion  opencv</span>
</code></pre><p>è¾“å‡ºï¼š</p>
<pre><code>3<span class="class">.2</span><span class="class">.0</span>
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Ubuntuä¸‹æŸ¥çœ‹CUDAç‰ˆæœ¬ã€cudnnç‰ˆæœ¬å·" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/06/28/Ubuntuä¸‹æŸ¥çœ‹CUDAç‰ˆæœ¬ã€cudnnç‰ˆæœ¬å·/" class="article-date">
  	<time datetime="2018-06-28T11:53:07.741Z" itemprop="datePublished">2018-06-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/Ubuntuä¸‹æŸ¥çœ‹CUDAç‰ˆæœ¬ã€cudnnç‰ˆæœ¬å·/">Ubuntuä¸‹æŸ¥çœ‹CUDAç‰ˆæœ¬ã€cudnnç‰ˆæœ¬å·</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.æŸ¥çœ‹CUDAç‰ˆæœ¬</p>
<pre><code><span class="keyword">cat</span>  /usr/<span class="keyword">local</span>/cuda/<span class="keyword">version</span>.txt
</code></pre><p>ä¾‹å¦‚è¾“å‡ºï¼š</p>
<pre><code><span class="tag">CUDA</span> <span class="tag">Version</span> 8<span class="class">.0</span><span class="class">.61</span>
</code></pre><p>or:</p>
<pre><code>nvcc <span class="comment">--version</span>
</code></pre><p>è¾“å‡ºï¼š</p>
<pre><code><span class="tag">Copyright</span> (<span class="tag">c</span>) 2005<span class="tag">-2017</span> <span class="tag">NVIDIA</span> <span class="tag">Corporation</span>
<span class="tag">Built</span> <span class="tag">on</span> <span class="tag">Fri_Nov__3_21</span><span class="pseudo">:07</span><span class="pseudo">:56_CDT_2017</span>
<span class="tag">Cuda</span> <span class="tag">compilation</span> <span class="tag">tools</span>, <span class="tag">release</span> 9<span class="class">.1</span>, <span class="tag">V9</span><span class="class">.1</span><span class="class">.85</span>
</code></pre><p>2.æŸ¥çœ‹cudnnç‰ˆæœ¬</p>
<pre><code><span class="keyword">cat</span> /usr/<span class="keyword">local</span>/cuda/<span class="keyword">include</span>/cudnn.<span class="keyword">h</span> | grep CUDNN_MAJOR -A 2
</code></pre><p>ä¾‹å¦‚è¾“å‡ºï¼š</p>
<pre><code><span class="preprocessor">#<span class="keyword">define</span> CUDNN_MAJOR      6</span>
<span class="preprocessor">#<span class="keyword">define</span> CUDNN_MINOR      0</span>
<span class="preprocessor">#<span class="keyword">define</span> CUDNN_PATCHLEVEL 21</span>
--
<span class="preprocessor">#<span class="keyword">define</span> CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)</span>

<span class="preprocessor">#<span class="keyword">include</span> "driver_types.h"</span>
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Theano+OpenCV+LIFT" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/06/28/Theano+OpenCV+LIFT/" class="article-date">
  	<time datetime="2018-06-28T09:56:15.223Z" itemprop="datePublished">2018-06-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/Theano+OpenCV+LIFT/">Theano+OpenCV+LIFT</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>0.è¯´æ˜</p>
<p>LIFT: Learned Invariant Feature Points<br>ä½œè€…å¼€æºä»£ç ï¼š<a href="https://github.com/cvlab-epfl/LIFT" target="_blank" rel="external">https://github.com/cvlab-epfl/LIFT</a></p>
<p>PS: æ³¨æ„ä¸‹è½½ä½œè€…releaseçš„<a href="https://github.com/cvlab-epfl/LIFT/releases/tag/v0.0.10" target="_blank" rel="external">1.0ç‰ˆ</a>ï¼Œä¿®å¤äº†ä¸€äº›bug:<code>.locks directory is now included in the repository by default</code>ã€‚</p>
<p>1.å®‰è£…æœ€æ–°OpenCV 3.x</p>
<p>ç•¥</p>
<p>2.å®‰è£…Theanoå¹¶é…ç½®</p>
<pre><code>pip <span class="keyword">install</span> theano==<span class="number">0.9</span>.<span class="number">0</span>
</code></pre><p>é…ç½®ï¼š(å¼€æºä»£ç ä¸­ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†éœ€è¦GPUçš„æ”¯æŒ)</p>
<pre><code>sudo vim ~/.theanorc

[global]  
<span class="constant">device</span> = gpu0  
<span class="constant">floatX</span> = float32 

[nvcc]  
<span class="constant">fastmath</span> = True  

[cuda] â€ƒ  
<span class="constant">root</span>=/usr/local/cuda-8.0  
</code></pre><p>3.å®‰è£…å…¶ä»–ä¾èµ–é¡¹</p>
<p>å®‰è£…flufl.lock:<br>1) ä¸‹è½½å®‰è£…åŒ…<br><a href="https://pypi.python.org/pypi/flufl.lock/2.4.1" target="_blank" rel="external">https://pypi.python.org/pypi/flufl.lock/2.4.1</a></p>
<pre><code>tar -zxf flufl<span class="class">.lock-2</span>.<span class="number">4.1</span><span class="class">.tar</span><span class="class">.gz</span>
sudo python setup<span class="class">.py</span> install  
</code></pre><p>2) æˆ–</p>
<pre><code>pip <span class="operator"><span class="keyword">install</span> flufl.<span class="keyword">lock</span>==<span class="number">2.4</span>.1</span>
</code></pre><p>å®‰è£…Lasagne:<br>ä¸‹è½½å®‰è£…åŒ…ï¼š<a href="https://github.com/Lasagne/Lasagne" target="_blank" rel="external">https://github.com/Lasagne/Lasagne</a>ã€(0.2.dev1)ã€‘</p>
<pre><code>tar -zxf Lasagne<span class="class">.tar</span><span class="class">.gz</span>
sudo python setup<span class="class">.py</span> install  
</code></pre><p>å…¶ä»–é¡¹ï¼š</p>
<pre><code>pip <span class="operator"><span class="keyword">install</span> numpy <span class="keyword">parse</span> h5py scipy</span>
</code></pre><p>4.æµ‹è¯•demo</p>
<pre><code># Build the shared library <span class="keyword">by</span>
<span class="keyword">cd</span> c-code/build
cmake -<span class="keyword">D</span> CUDA_TOOLKIT_ROOT_DIR=/usr/<span class="keyword">local</span>/cuda-8.0 ..
make

#To <span class="keyword">run</span> the <span class="keyword">test</span> <span class="keyword">program</span> simply
./<span class="keyword">run</span>.<span class="keyword">sh</span>
</code></pre><p>5.å…¶ä»–é—®é¢˜</p>
<p>cmakeæŠ¥é”™ï¼š</p>
<pre><code>Could NOT find CUDA: Found unsuitable <span class="property">version</span> <span class="string">"9.1"</span>, <span class="keyword">but</span> required <span class="keyword">is</span> exact
</code></pre><p>  version â€œ8.0â€ (found /usr/local/cuda-9.1)</p>
<pre><code><span class="comment">#éœ€æŒ‡å®šcudaç‰ˆæœ¬</span>
cmake -D CUDA_TOOLKIT_ROOT_DIR=/usr/<span class="keyword">local</span>/cuda-<span class="number">8.0</span> ..
</code></pre><p>   å·²è§£å†³çš„ä¸€äº›issuesï¼š <a href="https://github.com/cvlab-epfl/LIFT/issues?q=is%3Aissue+is%3Aclosed" target="_blank" rel="external">https://github.com/cvlab-epfl/LIFT/issues?q=is%3Aissue+is%3Aclosed</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MacOs High Sierra using aria2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/05/20/MacOs High Sierra using aria2/" class="article-date">
  	<time datetime="2018-05-20T07:27:30.453Z" itemprop="datePublished">2018-05-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/20/MacOs High Sierra using aria2/">MacOs High Sierra using aria2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>è¯´æ˜</p>
<p> é…ç½® aria2ï¼Œç»“åˆ Chromeï¼Œä»£æ›¿baiduç½‘ç›˜Appä¸‹è½½æ–‡ä»¶ã€‚</p>
</li>
<li><p>å®‰è£…aria2</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">brew install aria2</div><div class="line"></div><div class="line">==&gt; Downloading https://homebrew.bintray.com/bottles/aria2-1.34.0.high_sierra.bottle.tar.gz</div><div class="line"><span class="comment">######################################################################## 100.0%</span></div><div class="line">==&gt; Pouring aria2-1.34.0.high_sierra.bottle.tar.gz</div><div class="line">==&gt; Caveats</div><div class="line">Bash completion has been installed to:</div><div class="line">  /usr/<span class="built_in">local</span>/etc/bash_completion.d</div><div class="line">==&gt; Summary</div><div class="line">ğŸº  /usr/<span class="built_in">local</span>/Cellar/aria2/1.34.0: 22 files, 4.0MB</div></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®aria2</p>
<p> RPCæ¨¡å¼é…ç½®ï¼š</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~</div><div class="line">mkdir .aria2</div><div class="line"><span class="built_in">cd</span> .aria2</div><div class="line">touch aria2.conf</div><div class="line">vim aria2.conf</div><div class="line"></div><div class="line"><span class="comment">#ç”¨æˆ·å</span></div><div class="line"><span class="comment">#rpc-user=user</span></div><div class="line"><span class="comment">#å¯†ç </span></div><div class="line"><span class="comment">#rpc-passwd=passwd</span></div><div class="line"><span class="comment">#ä¸Šé¢çš„è®¤è¯æ–¹å¼ä¸å»ºè®®ä½¿ç”¨,å»ºè®®ä½¿ç”¨ä¸‹é¢çš„tokenæ–¹å¼</span></div><div class="line"><span class="comment">#è®¾ç½®åŠ å¯†çš„å¯†é’¥</span></div><div class="line"><span class="comment">#rpc-secret=token</span></div><div class="line"><span class="comment">#å…è®¸rpc</span></div><div class="line"><span class="built_in">enable</span>-rpc=<span class="literal">true</span></div><div class="line"><span class="comment">#å…è®¸æ‰€æœ‰æ¥æº, webç•Œé¢è·¨åŸŸæƒé™éœ€è¦</span></div><div class="line">rpc-allow-origin-all=<span class="literal">true</span></div><div class="line"><span class="comment">#å…è®¸å¤–éƒ¨è®¿é—®ï¼Œfalseçš„è¯åªç›‘å¬æœ¬åœ°ç«¯å£</span></div><div class="line">rpc-listen-all=<span class="literal">true</span></div><div class="line"><span class="comment">#RPCç«¯å£, ä»…å½“é»˜è®¤ç«¯å£è¢«å ç”¨æ—¶ä¿®æ”¹</span></div><div class="line"><span class="comment">#rpc-listen-port=6800</span></div><div class="line"><span class="comment">#æœ€å¤§åŒæ—¶ä¸‹è½½æ•°(ä»»åŠ¡æ•°), è·¯ç”±å»ºè®®å€¼: 3</span></div><div class="line">max-concurrent-downloads=5</div><div class="line"><span class="comment">#æ–­ç‚¹ç»­ä¼ </span></div><div class="line"><span class="built_in">continue</span>=<span class="literal">true</span></div><div class="line"><span class="comment">#åŒæœåŠ¡å™¨è¿æ¥æ•°</span></div><div class="line">max-connection-per-server=5</div><div class="line"><span class="comment">#æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, ä¸‹è½½çº¿ç¨‹æ•°ä¸Šé™å–å†³äºèƒ½åˆ†å‡ºå¤šå°‘ç‰‡, å¯¹äºå°æ–‡ä»¶é‡è¦</span></div><div class="line">min-split-size=10M</div><div class="line"><span class="comment">#å•æ–‡ä»¶æœ€å¤§çº¿ç¨‹æ•°, è·¯ç”±å»ºè®®å€¼: 5</span></div><div class="line">split=10</div><div class="line"><span class="comment">#ä¸‹è½½é€Ÿåº¦é™åˆ¶</span></div><div class="line">max-overall-download-limit=0</div><div class="line"><span class="comment">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span></div><div class="line">max-download-limit=0</div><div class="line"><span class="comment">#ä¸Šä¼ é€Ÿåº¦é™åˆ¶</span></div><div class="line">max-overall-upload-limit=0</div><div class="line"><span class="comment">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span></div><div class="line">max-upload-limit=0</div><div class="line"><span class="comment">#æ–­å¼€é€Ÿåº¦è¿‡æ…¢çš„è¿æ¥</span></div><div class="line"><span class="comment">#lowest-speed-limit=0</span></div><div class="line"><span class="comment">#éªŒè¯ç”¨ï¼Œéœ€è¦1.16.1ä¹‹åçš„releaseç‰ˆæœ¬</span></div><div class="line"><span class="comment">#referer=*</span></div><div class="line"><span class="comment">#æ–‡ä»¶ä¿å­˜è·¯å¾„, é»˜è®¤ä¸ºå½“å‰å¯åŠ¨ä½ç½®</span></div><div class="line">dir=/Users/xxx/Downloads</div><div class="line"><span class="comment">#æ–‡ä»¶ç¼“å­˜, ä½¿ç”¨å†…ç½®çš„æ–‡ä»¶ç¼“å­˜, å¦‚æœä½ ä¸ç›¸ä¿¡Linuxå†…æ ¸æ–‡ä»¶ç¼“å­˜å’Œç£ç›˜å†…ç½®ç¼“å­˜æ—¶ä½¿ç”¨, éœ€è¦1.16åŠä»¥ä¸Šç‰ˆæœ¬</span></div><div class="line"><span class="comment">#disk-cache=0</span></div><div class="line"><span class="comment">#å¦ä¸€ç§Linuxæ–‡ä»¶ç¼“å­˜æ–¹å¼, ä½¿ç”¨å‰ç¡®ä¿æ‚¨ä½¿ç”¨çš„å†…æ ¸æ”¯æŒæ­¤é€‰é¡¹, éœ€è¦1.15åŠä»¥ä¸Šç‰ˆæœ¬(?)</span></div><div class="line"><span class="comment">#enable-mmap=true</span></div><div class="line"><span class="comment">#æ–‡ä»¶é¢„åˆ†é…, èƒ½æœ‰æ•ˆé™ä½æ–‡ä»¶ç¢ç‰‡, æé«˜ç£ç›˜æ€§èƒ½. ç¼ºç‚¹æ˜¯é¢„åˆ†é…æ—¶é—´è¾ƒé•¿</span></div><div class="line"><span class="comment">#æ‰€éœ€æ—¶é—´ none &lt; falloc ? trunc Â« prealloc, fallocå’Œtruncéœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ</span></div><div class="line">file-allocation=prealloc</div></pre></td></tr></table></figure>
<p> é»˜è®¤ä¸‹è½½è·¯å¾„çš„ã€Œ/Users/xxx/Downloadsã€å¯ä»¥æ”¹ã€‚xxxä¸ºMacç”¨æˆ·åï¼Œè¾“å…¥<code>:w</code>ä¿å­˜ã€‚</p>
</li>
<li><p>å¯åŠ¨RPCæ¨¡å¼</p>
<p> åœ¨ç»ˆç«¯è¾“å…¥<code>aria2c --conf-path=&quot;/Users/xx/.aria2/aria2.conf&quot; -D</code>ï¼Œaria2 å¯åŠ¨ã€‚</p>
</li>
<li><p>é…ç½®chrome</p>
<p> ä¸‹è½½ Chrome æ’ä»¶<a href="https://github.com/acgotaku/BaiduExporter" target="_blank" rel="external">BaiduExporter.crx</a></p>
<p> å°†å…¶æ‹–æ‹½è‡³Chromeæ‰©å±•ç¨‹åºå¤„å®‰è£…ï¼Œåœ¨ç™¾åº¦ç½‘ç›˜é¡µé¢ä¼šæ–°å¢ä¸€ä¸ªåŠŸèƒ½æŒ‰é’®æ¥ä½¿ç”¨ariaä¸‹è½½ã€‚</p>
</li>
<li><p>é…ç½®GUI</p>
<p> ä¸‹è½½<a href="https://github.com/yangshun1029/aria2gui" target="_blank" rel="external">aria2gui</a>ï¼Œè§£å‹åå°†å…¶æ‹·è´åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œæ‰“å¼€ä¼šçœ‹åˆ°å½“å‰ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MacOSHighSierraå®‰è£…labelImg" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/05/20/MacOSHighSierraå®‰è£…labelImg/" class="article-date">
  	<time datetime="2018-05-20T03:33:39.537Z" itemprop="datePublished">2018-05-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/20/MacOSHighSierraå®‰è£…labelImg/">MacOs High Sierraå®‰è£…labelImg</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>labelImgå®˜æ–¹åœ°å€:<a href="https://github.com/tzutalin/labelImg/blob/master/README.rst" target="_blank" rel="external">https://github.com/tzutalin/labelImg/blob/master/README.rst</a></p>
<p>macOS<br>Python 2 + Qt4</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">brew install qt qt4</div><div class="line">brew install libxml2</div><div class="line">make qt4py2</div><div class="line">python labelImg.py</div><div class="line">python  labelImg.py [IMAGE_PATH] [PRE-DEFINED CLASS FILE]</div></pre></td></tr></table></figure>
<p>Python 3 + Qt5 (Works on macOS High Sierra)</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">brew install qt  <span class="comment"># will install qt-5.x.x</span></div><div class="line">brew install libxml2</div><div class="line">make qt5py3</div><div class="line">python labelImg.py</div><div class="line">python  labelImg.py [IMAGE_PATH] [PRE-DEFINED CLASS FILE]</div></pre></td></tr></table></figure>
<p>å®é™…åœ¨ä½¿ç”¨python2çš„æ—¶å€™ï¼Œæ— æ³•ç”¨<code>brew install qt qt4</code>ï¼Œä¸”åœ¨python3ä¸‹å®‰è£…libxml2åæŠ¥é”™ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ImportError: No module named lxml</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥åœ¨macos high sierraä¸‹å®‰è£…python3ï¼Œç„¶å</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">brew install qt</div><div class="line">pip3 install lxml</div><div class="line">make qt5py3</div><div class="line">python3 labelImg.py</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-py-Faster-rcnn for MacOS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/01/03/py-Faster-rcnn for MacOS/" class="article-date">
  	<time datetime="2018-01-03T09:13:36.000Z" itemprop="datePublished">2018-01-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/03/py-Faster-rcnn for MacOS/">py-Faster-rcnn for CPU_only MacOS</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>1. å‡†å¤‡</strong></p>
<p>éœ€è¦å®‰è£…OpenCV3.xç‰ˆæœ¬ï¼Œä»¥åŠOpenBLASï¼Œå‚è€ƒï¼š<a href="http://gwang-cv.github.io/2016/01/26/Mac%E5%AE%89%E8%A3%85OpenCV/">Macå®‰è£…OpenCV</a>, <a href="http://gwang-cv.github.io/2016/04/07/MacOS%E5%AE%89%E8%A3%85caffe/">MacOSå®‰è£…caffe</a></p>
<p>ç¡®è®¤å®‰è£…brew Cython easydict protobuf</p>
<p>ä¸‹è½½py-faster-rcnnæºç ï¼š</p>
<pre><code>git clone â€“recursive http<span class="variable">s:</span>//github.<span class="keyword">com</span>/rbgirshick/<span class="keyword">py</span>-faster-rcnn.git
</code></pre><p><strong>2. ç¼–è¯‘caffe</strong></p>
<p>ä¿®æ”¹<code>makefile.config</code></p>
<pre><code># <span class="string">USE_CUDNN :</span>= <span class="number">1</span>
<span class="string">CPU_ONLY :</span>= <span class="number">1</span>
<span class="string">USE_OPENCV :</span>= <span class="number">1</span>
<span class="string">OPENCV_VERSION :</span>= <span class="number">3</span>
<span class="string">CUDA_DIR :</span>= <span class="regexp">/usr/</span>local/cuda
<span class="string">BLAS :</span>= open
<span class="string">BLAS_INCLUDE :</span>= <span class="regexp">/usr/</span>local<span class="regexp">/Cellar/</span>openblas<span class="regexp">/0.2.20/</span>include
<span class="string">BLAS_LIB :</span>= <span class="regexp">/usr/</span>local<span class="regexp">/Cellar/</span>openblas<span class="regexp">/0.2.20/</span>lib
<span class="string">PYTHON_INCLUDE :</span>= <span class="regexp">/usr/</span>include/python2.7 \
        <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>python2.7<span class="regexp">/site-packages/</span>numpy<span class="regexp">/core/</span>include    <span class="string">PYTHON_LIB :</span>= <span class="regexp">/usr/</span>lib
<span class="string">WITH_PYTHON_LAYER :</span>= <span class="number">1</span>
<span class="string">INCLUDE_DIRS :</span>= $(PYTHON_INCLUDE) <span class="regexp">/usr/</span>local<span class="regexp">/include  /</span>usr<span class="regexp">/local/</span>Cellar<span class="regexp">/hdf5 /</span>usr<span class="regexp">/local/</span>Cellar<span class="regexp">/opencv/</span><span class="number">3.2</span>.0/include
<span class="string">LIBRARY_DIRS :</span>= $(PYTHON_LIB) <span class="regexp">/usr/</span>local<span class="regexp">/lib /</span>usr<span class="regexp">/lib  /</span>usr<span class="regexp">/local/</span>Cellar<span class="regexp">/opencv/</span><span class="number">3.2</span>.0/lib        
<span class="string">BUILD_DIR :</span>= build
<span class="string">DISTRIBUTE_DIR :</span>= distribute
<span class="string">TEST_GPUID :</span>= <span class="number">0</span>
</code></pre><p>æ‰§è¡Œç¼–è¯‘ï¼š</p>
<pre><code><span class="built_in">make</span> -j32 &amp;&amp; <span class="built_in">make</span> pycaffe
</code></pre><p><strong>3. ç¼–è¯‘faster-rcnn</strong></p>
<p>ä¿®æ”¹æ–‡ä»¶ï¼Œæ›¿æ¢æˆ–åˆ é™¤å…³äºgpuçš„ä»£ç è¡Œï¼š</p>
<p>ä¿®æ”¹<code>./lib/setup.py</code></p>
<pre><code>...
<span class="preprocessor">#CUDA = locate_cuda()</span>
...
...
<span class="preprocessor">#self.set_executable('compiler_so', CUDA['nvcc'])</span>
...
...
<span class="preprocessor">#Extension('nms.gpu_nms',</span>
<span class="preprocessor">#[â€˜nms/nms_kernel.cu', 'nms/gpu_nms.pyx'],</span>
<span class="preprocessor">#library_dirs=[CUDA['lib64']],</span>
<span class="preprocessor">#libraries=['cudart'],</span>
<span class="preprocessor">#language='c++',</span>
<span class="preprocessor">#runtime_library_dirs=[CUDA['lib64']],</span>
<span class="preprocessor">## this syntax is specific to this build system</span>
<span class="preprocessor">## we're only going to use certain compiler args with nvcc and not with</span>
<span class="preprocessor">## gcc the implementation of this trick is in customize_compiler() below</span>
<span class="preprocessor">#extra_compile_args={'gcc': ["-Wno-unused-function"],</span>
<span class="preprocessor">#â€™nvcc': ['-arch=sm_35',</span>
<span class="preprocessor">#â€™â€”ptxas-options=-v',</span>
<span class="preprocessor">#â€™-câ€™,</span>
<span class="preprocessor">#â€™â€”compiler-options',</span>
<span class="preprocessor">#â€â€™-fPIC'"]},</span>
<span class="preprocessor">#include_dirs = [numpy_include, CUDA['include']]</span>
<span class="preprocessor">#)</span>
</code></pre><p>æ‰§è¡Œç¼–è¯‘ï¼š</p>
<pre><code><span class="keyword">cd</span> ./lib
<span class="keyword">make</span>
</code></pre><p><strong>4. è¿è¡Œdemo</strong></p>
<p>è¿è¡Œdemoå‰éœ€è¦ä¿®æ”¹å‡ ä¸ªæ–‡ä»¶ï¼Œæ›¿æ¢æˆ–åˆ é™¤å…³äºgpuçš„ä»£ç è¡Œï¼š</p>
<p>(1) ä¿®æ”¹<code>~/py-faster-rcnn/lib/fast_rcnn/config.py</code></p>
<pre><code># Use GPU <span class="keyword">implementation</span> <span class="keyword">of</span> non-maximum suppression
# __C.USE_GPU_NMS = <span class="keyword">True</span>
__C.USE_GPU_NMS = <span class="keyword">False</span>
</code></pre><p>(2) ä¿®æ”¹<code>~/py-faster-rcnn/tools/test_net.pyå’Œ ~/py-faster-rcnn/tools/train_net.py</code></p>
<pre><code><span class="hexcolor">#caf</span>fe.<span class="function"><span class="title">set_mode_gpu</span><span class="params">()</span></span>
caffe.<span class="function"><span class="title">set_mode_cpu</span><span class="params">()</span></span>
</code></pre><p>(3) å°†<code>~/py-faster-rcnn/lib/setup.py</code>ä¸­ï¼Œå«æœ‰<code>nms.gpu_nms</code>çš„éƒ¨åˆ†å»æ‰</p>
<p>(4) ä¿®æ”¹<code>./lib/fast-rcnn/nms_wrapper.py</code>ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code><span class="keyword">from</span> fast_rcnn.config <span class="keyword">import</span> cfg
<span class="comment">#from nms.gpu_nms import gpu_nms</span>
<span class="keyword">from</span> nms.cpu_nms <span class="keyword">import</span> cpu_nms

<span class="function"><span class="keyword">def</span> <span class="title">nms</span><span class="params">(dets, thresh, force_cpu=False)</span>:</span>
    <span class="string">"""Dispatch to either CPU or GPU NMS implementations."""</span>

    <span class="keyword">if</span> dets.shape[<span class="number">0</span>] == <span class="number">0</span>:
        <span class="keyword">return</span> []
    <span class="keyword">if</span> cfg.USE_GPU_NMS <span class="keyword">and</span> <span class="keyword">not</span> force_cpu:
        <span class="keyword">print</span> <span class="string">"nms_wrapper GPU ..."</span>
        <span class="comment">#return gpu_nms(dets, thresh, device_id=cfg.GPU_ID)</span>
    <span class="keyword">else</span>:
        <span class="keyword">return</span> cpu_nms(dets, thresh)
</code></pre><p>æ¥ä¸‹æ¥è¿è¡Œdemoå³å¯ã€‚</p>
<p><strong>5. é—®é¢˜</strong></p>
<p>(1) import caffeé”™è¯¯ï¼Œæˆ–è€…æŠ¥é”™fatal error: numpy/arrayobject.hæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</p>
<p>ä¿®æ”¹Makefile.configæ‰¾åˆ°PYTHON_INCLUDEï¼š</p>
<pre><code>PYTHON_INCLUDE := <span class="regexp">/usr/i</span>nclude<span class="regexp">/python2.7 \
        /u</span>sr<span class="regexp">/lib/</span>python2.<span class="number">7</span><span class="regexp">/dist-packages/</span>numpy<span class="regexp">/core/i</span>nclude
</code></pre><p>è¦åŠ ä¸€ä¸ªlocalï¼Œå˜æˆï¼š </p>
<pre><code><span class="string">PYTHON_INCLUDE :</span>= <span class="regexp">/usr/</span>include/python2.7 \
        <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>python2.7<span class="regexp">/dist-packages/</span>numpy<span class="regexp">/core/</span>include
</code></pre><p>(2) æŠ¥é”™<code>AttributeError: &#39;DataFrame&#39; object has no attribute &#39;sort_values&#39;</code></p>
<pre><code><span class="comment"># sort_values is new in version 0.17.0, so check your version of pandas. In the previous versions you should use sort</span>

pip install -<span class="constant">U</span> pandas

<span class="comment"># æŸ¥çœ‹pandasç‰ˆæœ¬</span>
<span class="prompt">&gt;&gt;</span>&gt; import pandas as pd
<span class="prompt">&gt;&gt;</span>&gt; pd.show_versions()
<span class="prompt">&gt;&gt;</span>&gt; pd.__version_<span class="number">_</span>
</code></pre><p>(3) æ‰¾ä¸åˆ°ç›®å½•ï¼Œåœ¨<code>_init_paths.py</code>ä¸­å®šä¹‰çš„è·¯å¾„ä¿®æ”¹ï¼š</p>
<pre><code><span class="built_in">#</span> å°† this_dir = osp.dirname<span class="params">(__file__)</span> æ”¹ä¸ºï¼š
this_dir = osp.dirname<span class="params">(osp.abspath<span class="params">(__file__)</span>)</span>
</code></pre><hr>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.cnblogs.com/justinzhang/p/5386837.html" target="_blank" rel="external">Faster R-CNN CPUç¯å¢ƒæ­å»º</a></p>
<p><a href="http://blog.csdn.net/handsome_sheng/article/details/76571658" target="_blank" rel="external">Macä¸‹è·‘ä»…CPUæ¨¡å¼ä¸‹çš„py-faster-rcnn</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DeepLearning/">DeepLearning</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/DeepLearning/">DeepLearning</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-faster-rcnn errors" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/04/faster-rcnn errors/" class="article-date">
  	<time datetime="2017-12-04T02:32:17.000Z" itemprop="datePublished">2017-12-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/04/faster-rcnn errors/">è®­ç»ƒfaster-rcnnæŠ¥é”™</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>è®­ç»ƒç»“æŸåæµ‹è¯•æ—¶å‡ºç°ç±»ä¼¼</p>
<pre><code>File <span class="string">"/home/xxx/py-faster-rcnn/tools/../lib/datasets/voc_eval.py"</span>, line <span class="number">126</span>, <span class="keyword">in</span> voc_<span class="built_in">eval</span>
    R = [obj <span class="keyword">for</span> obj <span class="keyword">in</span> recs[imagename] <span class="keyword">if</span> obj[<span class="string">'name'</span>] == classname]
KeyError: <span class="string">'000002'</span>
</code></pre><p>è§£å†³æ–¹æ³•: åˆ é™¤data/VOCdekit2007ä¸‹çš„annotations_cacheæ–‡ä»¶å¤¹</p>
<hr>
<p>åŸºäºResNet101è®­ç»ƒpy-faster-rcnné‡åˆ°é”™è¯¯ï¼š</p>
<pre><code><span class="regexp">/faster-rcnn-py/</span>tools<span class="regexp">/../</span>lib<span class="regexp">/fast_rcnn/</span>bbox_transform.<span class="string">py:</span><span class="number">50</span>: <span class="string">RuntimeWarning:</span> overflow encountered <span class="keyword">in</span> exp
pred_h = np.exp(dh) * heights[:, np.newaxis]
faster-rcnn-py<span class="regexp">/tools/</span>..<span class="regexp">/lib/</span>rpn/proposal_layer.<span class="string">py:</span><span class="number">176</span>: <span class="string">RuntimeWarning:</span> invalid value encountered <span class="keyword">in</span> greater_equal
keep = np.where((ws &gt;= min_size) &amp; (hs &gt;= min_size))[<span class="number">0</span>]
</code></pre><p>ç±»ä¼¼è§£å†³æ–¹æ³•ï¼šå‡å°lr from 0.001 to 0.0001</p>
<pre><code>A possible solution could be <span class="built_in">to</span> decrease <span class="operator">the</span> base learning rate <span class="operator">in</span> <span class="operator">the</span> solver.prototxt
As <span class="keyword">it</span> is recommended here <span class="keyword">http</span>://caffe.berkeleyvision.org/tutorial/solver.html
Just change <span class="operator">the</span> base_lr: <span class="number">0.001</span> <span class="built_in">to</span> <span class="number">0.0001</span>

Note also that <span class="operator">the</span> above settings are merely guidelines, <span class="operator">and</span> theyâ€™re definitely <span class="operator">not</span> guaranteed <span class="built_in">to</span> be optimal (<span class="operator">or</span> even work <span class="keyword">at</span> all!) <span class="operator">in</span> every situation. If learning diverges (e.g., you <span class="built_in">start</span> <span class="built_in">to</span> see very large <span class="operator">or</span> NaN <span class="operator">or</span> inf loss values <span class="operator">or</span> outputs), <span class="keyword">try</span> dropping <span class="operator">the</span> base_lr (e.g., base_lr: <span class="number">0.001</span>) <span class="operator">and</span> re-training, repeating this <span class="keyword">until</span> you find <span class="operator">a</span> base_lr <span class="built_in">value</span> that works.
I did <span class="keyword">try</span> <span class="built_in">to</span> change <span class="operator">the</span> base_lr <span class="built_in">value</span> <span class="operator">and</span> now <span class="operator">the</span> NAN <span class="built_in">value</span> disappeared.
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Debug/">Debug</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Faster-rcnn detect small or tiny objects" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/01/Faster-rcnn detect small or tiny objects/" class="article-date">
  	<time datetime="2017-12-01T11:26:03.000Z" itemprop="datePublished">2017-12-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/01/Faster-rcnn detect small or tiny objects/">Faster-rcnn detect small or tiny objects</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/rbgirshick/py-faster-rcnn/issues/161" target="_blank" rel="external">https://github.com/rbgirshick/py-faster-rcnn/issues/161</a></p>
<p>R-CNN for Small Object Detection:  <a href="https://www.merl.com/publications/docs/TR2016-144.pdf" target="_blank" rel="external">https://www.merl.com/publications/docs/TR2016-144.pdf</a></p>
<p>Perceptual Generative Adversarial Networks for Small Object Detection   <a href="https://arxiv.org/pdf/1706.05274v1.pdf" target="_blank" rel="external">https://arxiv.org/pdf/1706.05274v1.pdf</a></p>
<p><a href="https://github.com/rbgirshick/py-faster-rcnn/issues/86" target="_blank" rel="external">https://github.com/rbgirshick/py-faster-rcnn/issues/86</a></p>
<p><a href="https://github.com/rbgirshick/py-faster-rcnn/issues/433" target="_blank" rel="external">https://github.com/rbgirshick/py-faster-rcnn/issues/433</a></p>
<hr>
<p>Hi, I had the same problem and those are my conclusion at this point :</p>
<p>To me, the best answer was to cut the images in smaller patches, at least for the training phase. According to hardware requirement, you need :</p>
<p>3GB GPU memory for ZF net<br>8GB GPU memory for VGG-16 net<br>Thatâ€™s taking into account the 600x1000 original scaling, so to make it simple you need 8GB for 600 000 pixels assuming that you use VGG.<br>I have 12GB on my GPU so if this is linear, i can go up to (600 000x12)/8 = 900 000 pixels maximum.<br>I couldnâ€™t resize my images because my objects are small and I couldnâ€™t afford losing resolution.<br>I chose to cut my 3000x4000 images in 750x1000 patches, which is the simplest division to go under 900 000 pixels.</p>
<pre><code><span class="attribute">SCALES</span>: <span class="string">[750]</span>
<span class="attribute">MAX_SIZE</span>: <span class="string">1000</span>
</code></pre><p>However, the good thing is that you only need to cut the images for the training phase. Then you can apply the trained network on full images thanks the the separate test parameters :</p>
<pre><code><span class="label">TEST:</span>
<span class="label">SCALES:</span> [<span class="number">3000</span>]
<span class="label">MAX_SIZE:</span> <span class="number">4000</span>
</code></pre><p>At least thatâ€™s what I did and now I have a network working on 3000x4000 images to detect 100x100 objects, in full c++ thanks to the c++ version.</p>
<hr>
<p>Hi guys,<br>I already changed the code in lib/rpn/generate_anchors.py and nub_output like this:<br>ratios and num_output like this<br><img src="https://cloud.githubusercontent.com/assets/13639445/14880213/323ebd54-0d60-11e6-93c7-39c8812ce487.png" alt=""><br><img src="https://cloud.githubusercontent.com/assets/13639445/14880235/4f81b65a-0d60-11e6-95f2-fb58a5b8425c.png" alt=""></p>
<p>However, I got the following error.<br><img src="https://cloud.githubusercontent.com/assets/13639445/14880520/c9cf8a26-0d61-11e6-88d7-71421805514f.png" alt=""></p>
<p>==============</p>
<pre><code>layer {
<span class="string">name:</span> <span class="string">'rpn_cls_prob_reshape'</span>
<span class="string">type:</span> <span class="string">'Reshape'</span>
<span class="string">bottom:</span> <span class="string">'rpn_cls_prob'</span>
<span class="string">top:</span> <span class="string">'rpn_cls_prob_reshape'</span>
reshape_param { shape { <span class="string">dim:</span> <span class="number">0</span> <span class="string">dim:</span> <span class="number">18</span> <span class="string">dim:</span> -<span class="number">1</span> <span class="string">dim:</span> <span class="number">0</span> } }
}
</code></pre><p>You should change this 18 to 24</p>
<hr>
<p>JayMarx </p>
<p>Hello! Do you solve the problem? I changed aspect ratios and followed catsdogoneâ€™s method, itâ€™s works, but when I changed scales just like you, it didnâ€™t work.Do you have any idea how to fix it?<br>These are my changes:<br><img src="https://cloud.githubusercontent.com/assets/22469594/20100179/4b2c0864-a5f7-11e6-960c-ed3e178a3ade.png" alt=""><br><img src="https://cloud.githubusercontent.com/assets/22469594/20100187/5728788c-a5f7-11e6-9f9d-33791afcff72.png" alt=""><br><img src="https://cloud.githubusercontent.com/assets/22469594/20100189/5a2352e6-a5f7-11e6-96c2-61b18130f561.png" alt=""><br>As you see, I just changed â€œdim: 18â€ to â€œdim: 140â€ and I donâ€™t know whether itâ€™s right or not!<br>The error goes like this:<br><img src="https://cloud.githubusercontent.com/assets/22469594/20100325/f7ccde54-a5f7-11e6-8672-7d86dcbbf5aa.png" alt=""></p>
<p>-&gt;&gt;&gt;<br>liuhyCV</p>
<p>@JayMarx I have meet the same error with you. I have found the solutions as follows:<br>at function â€œ def generate_anchors(base_size=16, ratios=[0.3, 0.5, 1, 1.5, 2], scales=2**np.arange(1, 6)): â€œ,<br>but at anchor_target_layer.py:</p>
<pre><code>def <span class="function"><span class="title">setup</span><span class="params">(self,bottom,top)</span></span>
layer_params = yaml.<span class="function"><span class="title">load</span><span class="params">(self.param_str_)</span></span>
anchor_scales =layer_params.<span class="function"><span class="title">get</span><span class="params">(<span class="string">'scales'</span>, (<span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>)</span></span>)
self._anchors = <span class="function"><span class="title">generate_anchors</span><span class="params">(scales=np.array(anchor_scales)</span></span>)
</code></pre><p>we should change this code by:</p>
<pre><code>layer_params = yaml.<span class="function"><span class="title">load</span><span class="params">(self.param_str_)</span></span>
anchor_scales =layer_params.<span class="function"><span class="title">get</span><span class="params">(<span class="string">'scales'</span>, (<span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>)</span></span>)
self._anchors = <span class="function"><span class="title">generate_anchors</span><span class="params">()</span></span>
</code></pre><p>at last the generate_anchors() can use the scales that we defintion</p>
<hr>
<p>@harjatinsingh So far I havent being able to successfully make it work for smaller images as I wanted. However, it seems changing the values of the ratios in generate_anchors.py does make the algorithm to recognize smaller objects, but the bounding box looses precision. For instance, what I have done is changing the code below from this:</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">generate_anchors</span><span class="params">(base_size=<span class="number">16</span>, ratios=[<span class="number">0.5</span>, <span class="number">1</span>, <span class="number">2</span>], scales=<span class="number">2</span>**np.arange<span class="params">(<span class="number">3</span>, <span class="number">6</span>)</span>)</span>:</span>
</code></pre><p>to this:</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">generate_anchors</span><span class="params">(base_size=<span class="number">16</span>, ratios=[<span class="number">0.3</span>, <span class="number">0.75</span>, <span class="number">1</span>], scales=<span class="number">2</span>**np.arange<span class="params">(<span class="number">3</span>, <span class="number">6</span>)</span>)</span>:</span>
</code></pre><p>Also, it seems that changing the values of anchors does work as noted in #<a href="https://github.com/rbgirshick/py-faster-rcnn/issues/161" target="_blank" rel="external">161</a> but I couldnt make it work for me. So my question (in both issues) is still pending.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DeepLearning/">DeepLearning</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/DeepLearning/">DeepLearning</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MacOSX+XXNet3.7.5+IPV6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/26/MacOSX+XXNet3.7.5+IPV6/" class="article-date">
  	<time datetime="2017-10-26T15:51:01.000Z" itemprop="datePublished">2017-10-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/26/MacOSX+XXNet3.7.5+IPV6/">MacOSX+XXNet3.7.5+IPV6</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>1.å®‰è£…XX-Net</strong></p>
<p><a href="https://github.com/XX-net/XX-Net/releases" target="_blank" rel="external">https://github.com/XX-net/XX-Net/releases</a></p>
<p><strong>2.MacOSè®¾ç½®IPV6</strong></p>
<p>å®‰è£…merido </p>
<p><a href="http://www.deepdarc.com/miredo-osx/" target="_blank" rel="external">http://www.deepdarc.com/miredo-osx/</a></p>
<p>å®‰è£…TunTap(pkgå®‰è£…åŒ… ä¸å®‰è£…çš„è¯ Miredoä¼šä¸€ç›´é“¾æ¥ä¸æˆåŠŸ,è®¾ç½®ç•Œé¢æ˜¾ç¤ºçº¢ç¯)</p>
<p><a href="https://sourceforge.net/projects/tuntaposx/?source=typ_redirect" target="_blank" rel="external">https://sourceforge.net/projects/tuntaposx/?source=typ_redirect</a></p>
<p>åœ¨ç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œæ‰“å¼€meridoï¼Œå…¶ä¸­é€‰æ‹©clientï¼Œç„¶åå¡«å…¥teredo.remlab.netï¼Œç„¶åapplyå³å¯çœ‹åˆ°ä¸Šé¢çš„é»„ç¯å˜ä¸ºç»¿è‰²ï¼Œå¹¶ä¸”åœ¨ä¸‹æ–¹å‡ºç°IPV6åœ°å€ã€‚</p>
<p><strong>3.XX-Netè¿è¡Œæ£€æŸ¥æ‰€æœ‰IP</strong></p>
<p>XX-Netå¯ç”¨IPV6</p>
<p>èƒ½å¾—åˆ°ä¸Šåƒä¸ªæœ‰æ•ˆIPæ•°ï¼Œè¿æ¥æˆåŠŸï¼</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Debug/">Debug</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Windowsä¸‹å®‰è£…labelImg" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/21/Windowsä¸‹å®‰è£…labelImg/" class="article-date">
  	<time datetime="2017-09-20T17:53:21.000Z" itemprop="datePublished">2017-09-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/21/Windowsä¸‹å®‰è£…labelImg/">Windowsä¸‹å®‰è£…labelImg</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.å®‰è£…å¿…å¤‡çš„Visual Studio 2015ï¼Œä»¥æä¾›nmakeå·¥å…·</p>
<p>2.åœ¨å¼€å§‹èœå•ä¸­æ‰¾åˆ°Visual Studio Tools &gt; VS2015 x64æœ¬æœºå·¥å…·å‘½ä»¤æç¤ºç¬¦</p>
<p>3.åˆ°pyqt4å®˜æ–¹ä¸‹è½½sipçš„æºæ–‡ä»¶</p>
<p>4.ç¼–è¯‘å®‰è£…sip</p>
<pre><code>cd C:\sip-<span class="number">4.19</span>.<span class="number">3</span> 
python configure<span class="class">.py</span>
nmake
nmake install
</code></pre><p>5.å®‰è£…pyqt4ï¼Œåœ¨Windowsä¸‹ä¸è¦é‡‡ç”¨ç¼–è¯‘å®‰è£…æ–¹æ³•ï¼Œä¼šæ‰åˆ°å‘é‡Œã€‚æˆ‘ä»¬ä½¿ç”¨éå®˜æ–¹çš„å®‰è£…åŒ…ï¼Œä¸‹è½½åœ°å€ï¼š<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="external">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>ï¼Œä¸‹è½½å¯¹åº”çš„PyQt4â€‘4.11.4â€‘cp27â€‘cp27mâ€‘win_amd64.whlã€æ³¨æ„pythonçš„ç‰ˆæœ¬å·ï¼Œæ­¤å¤„æ˜¯åŸºäºpython2.7ï¼ˆcp27ï¼‰ã€‘</p>
<pre><code><span class="tag">pip</span> <span class="tag">install</span> <span class="tag">PyQt4</span>â€‘4<span class="class">.11</span><span class="class">.4</span>â€‘<span class="tag">cp27</span>â€‘<span class="tag">cp27m</span>â€‘<span class="tag">win_amd64</span><span class="class">.whl</span>
</code></pre><p>å®‰è£…å®Œæˆä¹‹åï¼Œå°†C:\Python27\Lib\site-packages\PyQt4æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ä¸­</p>
<p>6.å®‰è£…labelImgï¼Œè¿™é‡Œç¼–è¯‘å®‰è£…</p>
<pre><code>pyrcc4 -o resources<span class="class">.py</span> resources<span class="class">.qrc</span>
python labelImg.py
</code></pre><p>7.lxmlçš„å®‰è£…æ–¹æ³•å‚è€ƒpyqt4ï¼Œä»ä¸­<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="external">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>ä¸‹è½½å¯¹åº”pythonç‰ˆæœ¬å·çš„lxmléå®˜æ–¹å®‰è£…åŒ…ï¼Œç„¶åå®‰è£…å³å¯</p>
<pre><code><span class="tag">pip</span> <span class="tag">install</span> <span class="tag">lxml-3</span><span class="class">.8</span><span class="class">.0-cp27-cp27m-win_amd64</span><span class="class">.whl</span>
</code></pre><p>å®Œæˆï¼ï¼</p>
<p><a href="https://github.com/tzutalin/labelImg" target="_blank" rel="external">https://github.com/tzutalin/labelImg</a></p>
<p><a href="http://www.cnblogs.com/qinjiting/p/5822572.html" target="_blank" rel="external">http://www.cnblogs.com/qinjiting/p/5822572.html</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Caffeè®­ç»ƒå‡ºé”™" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/14/Caffeè®­ç»ƒå‡ºé”™/" class="article-date">
  	<time datetime="2017-09-14T13:42:31.000Z" itemprop="datePublished">2017-09-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/14/Caffeè®­ç»ƒå‡ºé”™/">Caffeè®­ç»ƒå‡ºé”™</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Caffeè®­ç»ƒå‡ºé”™</p>
<pre><code><span class="tag">F0204</span> 17<span class="pseudo">:40</span><span class="pseudo">:38</span><span class="class">.201807</span> 10866 <span class="rule"><span class="attribute">db_lmdb.hpp</span>:<span class="value"><span class="number">15</span>] Check failed: mdb_status == <span class="number">0</span> (<span class="number">2</span> vs. <span class="number">0</span>) No such file or directory</span></span>
</code></pre><p>You have not set your paths to the LMDB directories correctly.<br>LMDBç›®å½•é”™è¯¯,ä¿®æ”¹prototxtæ–‡ä»¶çš„LMDBæ–‡ä»¶è·¯å¾„</p>
<p>å†™ç›¸å¯¹è·¯å¾„ä¸è¡Œï¼Œå†™æˆç»å¯¹è·¯å¾„å°±é€šè¿‡äº†ã€‚ã€‚ã€‚</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ä¸ºç»ˆç«¯è®¾ç½®Shadowsocksä»£ç†" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/12/ä¸ºç»ˆç«¯è®¾ç½®Shadowsocksä»£ç†/" class="article-date">
  	<time datetime="2017-09-12T09:55:10.000Z" itemprop="datePublished">2017-09-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/12/ä¸ºç»ˆç«¯è®¾ç½®Shadowsocksä»£ç†/">ä¸ºç»ˆç«¯è®¾ç½®Shadowsocksä»£ç†</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>PSï¼šä¸ºè§£å†³python tweepyè¿æ¥twitter apiè¶…æ—¶çš„é—®é¢˜ã€‚</p>
<pre><code>tweepy.<span class="function"><span class="title">api</span><span class="params">(auth,proxy=<span class="string">"localhost:1080"</span>)</span></span>
</code></pre><p>åšå¼€å‘éƒ½ä¼šç»å¸¸æ¥è§¦ç»ˆç«¯ï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬åœ¨ç»ˆç«¯ä¼šåšä¸€äº›ç½‘ç»œæ“ä½œï¼Œæ¯”å¦‚ä¸‹è½½gradleåŒ…ç­‰ï¼Œç”±äºä¸€äº›ä½ æ‡‚æˆ‘ä¹Ÿæ‡‚çš„åŸå› ï¼ŒæŸäº›ç½‘ç»œæ“ä½œä¸æ˜¯é‚£ä¹ˆç†æƒ³ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦è®¾ç½®ä»£ç†æ¥è‡ªç”±åœ°è®¿é—®ç½‘ç»œã€‚<br>Shadowsocksæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä»£ç†å·¥å…·ï¼Œå®ƒä½¿ç”¨socks5åè®®ï¼Œè€Œç»ˆç«¯å¾ˆå¤šå·¥å…·ç›®å‰åªæ”¯æŒhttpå’Œhttpsç­‰åè®®ï¼Œå¯¹socks5åè®®æ”¯æŒä¸å¤Ÿå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºç»ˆç«¯è®¾ç½®shadowsocksçš„æ€è·¯å°±æ˜¯å°†socksåè®®è½¬æ¢æˆhttpåè®®ï¼Œç„¶åä¸ºç»ˆç«¯è®¾ç½®å³å¯ã€‚ä»”ç»†æƒ³æƒ³ä¹Ÿç®—æ˜¯é€‚é…å™¨æ¨¡å¼çš„ä¸€ç§ç°å®åº”ç”¨å§ã€‚<br>æƒ³è¦è¿›è¡Œè½¬æ¢ï¼Œéœ€è¦å€ŸåŠ©å·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨æ¯”è¾ƒçŸ¥åçš„polipoæ¥å®ç°ã€‚polipoæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç¼“å­˜webä»£ç†ç¨‹åºã€‚</p>
<p><strong>å‡†å¤‡å·¥ä½œ</strong></p>
<p>é¦–å…ˆéœ€è¦é…ç½®å¥½ä¸€ä¸ªå¯ç”¨çš„shadowsocksï¼Œå®¢æˆ·ç«¯ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/shadowsocks/shadowsocks/releases" target="_blank" rel="external">https://github.com/shadowsocks/shadowsocks/releases</a></p>
<p>å®‰è£…å’Œé…ç½®ssï¼Œè¯·è‡ªè¡Œæœç´¢è§£å†³ã€‚</p>
<p>å®‰è£…<br>Fedoraå®‰è£…</p>
<pre><code>sudo yum <span class="keyword">install</span> polipo
</code></pre><p>Macä¸‹ä½¿ç”¨Homebrewå®‰è£…</p>
<pre><code><span class="keyword">brew </span>install polipo
</code></pre><p>Ubuntuå®‰è£…</p>
<pre><code>sudo apt-<span class="keyword">get</span> install polipo
</code></pre><p><strong>ä¿®æ”¹é…ç½®(Linux)</strong></p>
<p>å¦‚ä¸‹æ‰“å¼€é…ç½®æ–‡ä»¶</p>
<pre><code>sudo vim <span class="regexp">/etc/</span>polipo<span class="regexp">/config</span>
</code></pre><p>è®¾ç½®ParentProxyä¸ºShadowsocksï¼Œé€šå¸¸æƒ…å†µä¸‹æœ¬æœºshadowsocksçš„åœ°å€å¦‚ä¸‹</p>
<pre><code><span class="comment"># Uncomment this if you want to use a parent SOCKS proxy:</span>

<span class="variable">socksParentProxy =</span> <span class="string">"localhost:1080"</span>
<span class="variable">socksProxyType =</span> socks5
</code></pre><p>è®¾ç½®æ—¥å¿—è¾“å‡ºæ–‡ä»¶</p>
<pre><code><span class="built_in">log</span>File=/var/<span class="built_in">log</span>/polipo
<span class="built_in">log</span>Level=<span class="number">4</span>
</code></pre><p><strong>ä¿®æ”¹é…ç½®(Mac)</strong></p>
<p>è®¾ç½®æ¯æ¬¡ç™»é™†å¯åŠ¨polipo</p>
<pre><code>ln -sfv <span class="regexp">/usr/</span>local<span class="regexp">/opt/</span>polipo<span class="comment">/*.plist ~/Library/LaunchAgents</span>
</code></pre><p>ä¿®æ”¹æ–‡ä»¶<code>/usr/local/opt/polipo/homebrew.mxcl.polipo.plist</code>è®¾ç½®parentProxy</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="doctype">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="tag">&lt;<span class="title">plist</span> <span class="attribute">version</span>=<span class="value">"1.0"</span>&gt;</span>
  <span class="tag">&lt;<span class="title">dict</span>&gt;</span>
    <span class="tag">&lt;<span class="title">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
    <span class="tag">&lt;<span class="title">string</span>&gt;</span>homebrew.mxcl.polipo<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
    <span class="tag">&lt;<span class="title">key</span>&gt;</span>RunAtLoad<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
    <span class="tag">&lt;<span class="title">true</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">key</span>&gt;</span>KeepAlive<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
    <span class="tag">&lt;<span class="title">true</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
    <span class="tag">&lt;<span class="title">array</span>&gt;</span>
        <span class="tag">&lt;<span class="title">string</span>&gt;</span>/usr/local/opt/polipo/bin/polipo<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;<span class="title">string</span>&gt;</span>socksParentProxy=localhost:1080<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">array</span>&gt;</span>
    <span class="comment">&lt;!-- Set `ulimit -n 20480`. The default OS X limit is 256, that's
         not enough for Polipo (displays 'too many files open' errors).
         It seems like you have no reason to lower this limit
         (and unlikely will want to raise it). --&gt;</span>
    <span class="tag">&lt;<span class="title">key</span>&gt;</span>SoftResourceLimits<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
    <span class="tag">&lt;<span class="title">dict</span>&gt;</span>
      <span class="tag">&lt;<span class="title">key</span>&gt;</span>NumberOfFiles<span class="tag">&lt;/<span class="title">key</span>&gt;</span>
      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>20480<span class="tag">&lt;/<span class="title">integer</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">dict</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">dict</span>&gt;</span>
<span class="tag">&lt;/<span class="title">plist</span>&gt;</span>
</code></pre><p>ä¿®æ”¹çš„åœ°æ–¹æ˜¯å¢åŠ äº†<code>&lt;string&gt;socksParentProxy=localhost:1080&lt;/string&gt;</code></p>
<p><strong>å¯åŠ¨ï¼ˆLinuxï¼‰</strong></p>
<p>å…ˆå…³é—­æ­£åœ¨è¿è¡Œçš„polipoï¼Œç„¶åå†æ¬¡å¯åŠ¨</p>
<pre><code>sudo <span class="keyword">service</span> polipo <span class="literal">stop</span>
sudo <span class="keyword">service</span> polipo <span class="literal">start</span>
</code></pre><p><strong>å¯åŠ¨(Mac)</strong></p>
<pre><code>launchctl unload ~/Library/LaunchAgents/homebrew<span class="class">.mxcl</span><span class="class">.polipo</span><span class="class">.plist</span>
launchctl load ~/Library/LaunchAgents/homebrew<span class="class">.mxcl</span><span class="class">.polipo</span><span class="class">.plis</span>
</code></pre><p>æ³¨æ„ï¼šè¯·ç¡®ä¿Shadowsocksæ­£å¸¸å·¥ä½œã€‚</p>
<p><strong>éªŒè¯åŠä½¿ç”¨</strong></p>
<p>å®‰è£…å®Œæˆå°±éœ€è¦è¿›è¡ŒéªŒè¯æ˜¯å¦workã€‚è¿™é‡Œå±•ç¤ºä¸€ä¸ªæœ€ç®€å•çš„éªŒè¯æ–¹æ³•ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œå¦‚ä¸‹æ‰§è¡Œ</p>
<pre><code><span class="number">07</span>:<span class="number">56</span>:<span class="number">24</span>-<span class="keyword">androidyue/var/log$ </span>curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">125</span>.<span class="number">39</span>.<span class="number">112</span>.<span class="number">15</span> æ¥è‡ªï¼šä¸­å›½å¤©æ´¥å¤©æ´¥ è”é€š
<span class="number">08</span>:<span class="number">09</span>:<span class="number">23</span>-<span class="keyword">androidyue/var/log$ </span>http_proxy<span class="label">=http</span>://localhost:<span class="number">8123</span> curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">210</span>.<span class="number">140</span>.<span class="number">193</span>.<span class="number">128</span> æ¥è‡ªï¼šæ—¥æœ¬æ—¥æœ¬
</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œä¸ºæŸä¸ªå‘½ä»¤è®¾ç½®ä»£ç†ï¼Œå‰é¢åŠ ä¸Šhttp_proxy=<a href="http://localhost:8123" target="_blank" rel="external">http://localhost:8123</a> åæ¥å‘½ä»¤å³å¯ã€‚<br>æ³¨ï¼š8123æ˜¯polipoçš„é»˜è®¤ç«¯å£ï¼Œå¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥ä¿®æ”¹æˆå…¶ä»–æœ‰æ•ˆç«¯å£ã€‚</p>
<p><strong>è®¾ç½®åˆ«å</strong></p>
<p>bashä¸­æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ä¸œè¥¿ï¼Œå°±æ˜¯åˆ«åalias. Linuxç”¨æˆ·ä¿®æ”¹~/.bashrcï¼ŒMacç”¨æˆ·ä¿®æ”¹~/.bash_profileæ–‡ä»¶ï¼Œå¢åŠ å¦‚ä¸‹è®¾ç½®</p>
<pre><code><span class="keyword">alias</span> <span class="title">hp</span>=<span class="string">"http_proxy=http://localhost:8123"</span>
</code></pre><p>ç„¶åLinuxç”¨æˆ·æ‰§è¡Œsource ~/.bashrcï¼ŒMacç”¨æˆ·æ‰§è¡Œsource ~/.bash_profile</p>
<p><strong>æµ‹è¯•ä½¿ç”¨</strong></p>
<pre><code><span class="number">20</span>:<span class="number">39</span>:<span class="number">39</span>-<span class="keyword">androidyue~$ </span>curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">125</span>.<span class="number">39</span>.<span class="number">112</span>.<span class="number">14</span> æ¥è‡ªï¼šä¸­å›½å¤©æ´¥å¤©æ´¥ è”é€š
<span class="number">20</span>:<span class="number">39</span>:<span class="number">44</span>-<span class="keyword">androidyue~$ </span>hp curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">210</span>.<span class="number">140</span>.<span class="number">193</span>.<span class="number">128</span> æ¥è‡ªï¼šæ—¥æœ¬æ—¥æœ¬ 
<span class="number">20</span>:<span class="number">39</span>:<span class="number">48</span>-<span class="keyword">androidyue~$ </span>
</code></pre><p><strong>å½“å‰ä¼šè¯å…¨å±€è®¾ç½®</strong></p>
<p>å¦‚æœå«Œæ¯æ¬¡ä¸ºæ¯ä¸€ä¸ªå‘½ä»¤è®¾ç½®ä»£ç†æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ä¸ºå½“å‰ä¼šè¯è®¾ç½®å…¨å±€çš„ä»£ç†ã€‚å³ä½¿ç”¨export http_proxy=<a href="http://localhost:8123å³å¯ã€‚" target="_blank" rel="external">http://localhost:8123å³å¯ã€‚</a> å¦‚æœæƒ³æ’¤é”€å½“å‰ä¼šè¯çš„http_proxyä»£ç†ï¼Œä½¿ç”¨ unset http_proxy å³å¯ã€‚ ç¤ºä¾‹æ•ˆæœå¦‚ä¸‹</p>
<pre><code><span class="number">21</span>:<span class="number">29</span>:<span class="number">49</span>-<span class="keyword">androidyue~$ </span>curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">125</span>.<span class="number">39</span>.<span class="number">112</span>.<span class="number">14</span> æ¥è‡ªï¼šä¸­å›½å¤©æ´¥å¤©æ´¥ è”é€š
<span class="number">21</span>:<span class="number">29</span>:<span class="number">52</span>-<span class="keyword">androidyue~$ </span><span class="preprocessor">export</span> http_proxy<span class="label">=http</span>://localhost:<span class="number">8123</span>
<span class="number">21</span>:<span class="number">30</span>:<span class="number">07</span>-<span class="keyword">androidyue~$ </span>curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">210</span>.<span class="number">140</span>.<span class="number">193</span>.<span class="number">128</span> æ¥è‡ªï¼šæ—¥æœ¬æ—¥æœ¬ 
<span class="number">21</span>:<span class="number">30</span>:<span class="number">12</span>-<span class="keyword">androidyue~$ </span>unset http_proxy
<span class="number">21</span>:<span class="number">30</span>:<span class="number">37</span>-<span class="keyword">androidyue~$ </span>curl <span class="literal">ip</span>.gs
å½“å‰ <span class="literal">IP</span>ï¼š<span class="number">125</span>.<span class="number">39</span>.<span class="number">112</span>.<span class="number">14</span> æ¥è‡ªï¼šä¸­å›½å¤©æ´¥å¤©æ´¥ è”é€š
</code></pre><p>å¦‚æœæƒ³è¦æ›´é•¿ä¹…çš„è®¾ç½®ä»£ç†ï¼Œå¯ä»¥å°†export http_proxy=<a href="http://localhost:8123åŠ å…¥.bashrcæˆ–è€….bash_profileæ–‡ä»¶" target="_blank" rel="external">http://localhost:8123åŠ å…¥.bashrcæˆ–è€….bash_profileæ–‡ä»¶</a></p>
<p><strong>è®¾ç½®Gitä»£ç†</strong><br>å¤æ‚ä¸€äº›çš„è®¾ç½®Gitä»£ç†</p>
<pre><code>git clone <span class="string">https:</span><span class="comment">//android.googlesource.com/tools/repo --config http.proxy=localhost:8123</span>

Cloning into <span class="string">'repo'</span>...
<span class="string">remote:</span> Counting <span class="string">objects:</span> <span class="number">135</span>, done
<span class="string">remote:</span> Finding <span class="string">sources:</span> <span class="number">100</span>% (<span class="number">135</span>/<span class="number">135</span>)
<span class="string">remote:</span> Total <span class="number">3483</span> (delta <span class="number">1956</span>), reused <span class="number">3483</span> (delta <span class="number">1956</span>)
Receiving <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">3483</span><span class="regexp">/3483), 2.63 MiB | 492 KiB/</span>s, done.
Resolving <span class="string">deltas:</span> <span class="number">100</span>% (<span class="number">1956</span>/<span class="number">1956</span>), done.
</code></pre><p>å…¶å®è¿™æ ·è¿˜æ˜¯æ¯”è¾ƒå¤æ‚ï¼Œå› ä¸ºéœ€è¦è®°å¿†çš„ä¸œè¥¿æ¯”è¾ƒå¤šï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„å®ç°<br>é¦–å…ˆï¼Œåœ¨.bashrcæˆ–è€….bash_profileæ–‡ä»¶åŠ å…¥è¿™ä¸€å¥ã€‚</p>
<pre><code><span class="setting">gp=<span class="value"><span class="string">" --config http.proxy=localhost:8123"</span></span></span>
</code></pre><p>ç„¶åæ‰§è¡Œsourceæ“ä½œï¼Œæ›´æ–°å½“å‰bashé…ç½®ã€‚</p>
<p>æ›´ç®€å•çš„ä½¿ç”¨gitçš„æ–¹æ³•</p>
<pre><code>git clone  <span class="string">https:</span><span class="comment">//android.googlesource.com/tools/repo $gp</span>

Cloning into <span class="string">'repo'</span>...
<span class="string">remote:</span> Counting <span class="string">objects:</span> <span class="number">135</span>, done
<span class="string">remote:</span> Finding <span class="string">sources:</span> <span class="number">100</span>% (<span class="number">135</span>/<span class="number">135</span>)
<span class="string">remote:</span> Total <span class="number">3483</span> (delta <span class="number">1956</span>), reused <span class="number">3483</span> (delta <span class="number">1956</span>)
Receiving <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">3483</span><span class="regexp">/3483), 2.63 MiB | 483 KiB/</span>s, done.
Resolving <span class="string">deltas:</span> <span class="number">100</span>% (<span class="number">1956</span>/<span class="number">1956</span>), done.
</code></pre><p>End</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-è§£å†³opencvæ— æ³•è¯»å–è§†é¢‘æ•°æ®(Ubuntu)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/10/è§£å†³opencvæ— æ³•è¯»å–è§†é¢‘æ•°æ®(Ubuntu)/" class="article-date">
  	<time datetime="2017-09-10T09:25:51.000Z" itemprop="datePublished">2017-09-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/10/è§£å†³opencvæ— æ³•è¯»å–è§†é¢‘æ•°æ®(Ubuntu)/">è§£å†³opencvæ— æ³•è¯»å–è§†é¢‘æ•°æ®(Ubuntu)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>é”™è¯¯æè¿°ï¼š</strong></p>
<pre><code>OpenCV <span class="keyword">Error</span>: Unspecified <span class="keyword">error</span> (The <span class="keyword">function</span> <span class="keyword">is</span> <span class="keyword">not</span> implemented. Rebuild
 the library <span class="keyword">with</span> Windows, GTK+ <span class="number">2.</span>x <span class="keyword">or</span> Carbon support. <span class="keyword">If</span> you are <span class="keyword">on</span> Ubuntu
  <span class="keyword">or</span> Debian, install libgtk2.0-dev <span class="keyword">and</span> pkg-config, <span class="keyword">then</span> re-run cmake <span class="keyword">or</span> 
  configure script) <span class="keyword">in</span> cvNamedWindow, file /io/opencv/modules/highgui/src/window.cpp, line <span class="number">565</span>
Traceback (most recent <span class="keyword">call</span> last):
  File <span class="string">"video_tools/demo.py"</span>, line <span class="number">103</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;
    cv2.namedWindow(<span class="comment">'ret',0)</span>
cv2.<span class="keyword">error</span>: /io/opencv/modules/highgui/src/window.cpp:<span class="number">565</span>: <span class="keyword">error</span>: (-<span class="number">2</span>) The 
<span class="keyword">function</span> <span class="keyword">is</span> <span class="keyword">not</span> implemented. Rebuild the library <span class="keyword">with</span> Windows, GTK+ <span class="number">2.</span>x <span class="keyword">or</span>
 Carbon support. <span class="keyword">If</span> you are <span class="keyword">on</span> Ubuntu <span class="keyword">or</span> Debian, install libgtk2.0-dev <span class="keyword">and</span> 
 pkg-config, <span class="keyword">then</span> re-run cmake <span class="keyword">or</span> configure script <span class="keyword">in</span> <span class="keyword">function</span> cvNamedWindow
</code></pre><p><strong>åˆ†æï¼š</strong></p>
<p>åœ¨Ubuntu16.04ä¸‹å®‰è£…OpenCV3.2ä¹‹å‰ï¼Œç¡®å®å·²ç»æå‰å®‰è£…äº†å„ç§ä¾èµ–åŒ…ï¼Œç‰¹åˆ«æ˜¯libgtk2.0-dev and pkg-configå·²ç»ç¡®è®¤å®‰è£…ï¼Œé€šè¿‡åœ¨pythonä¸‹ä½¿ç”¨<code>cv2.getBuildInformation()</code>æŸ¥çœ‹ï¼š</p>
<pre><code>GUI: 
    QT:                          <span class="keyword">NO</span>
    GTK+:                        <span class="keyword">NO</span>
    GThread :                    YES (ver 2.12.3)
    GtkGlExt:                    <span class="keyword">NO</span>
    OpenGL support:              <span class="keyword">NO</span>
    VTK support:                 <span class="keyword">NO</span>

  Media I/O: 
    ZLib:                        zlib (ver 1.2.8)
    JPEG:                        libjpeg (ver 90)
    WEBP:                        build (ver 0.3.1)
    PNG:                         build (ver 1.6.24)
    TIFF:                        build (ver 42 - 4.0.2)
    JPEG 2000:                   build (ver 1.900.1)
    OpenEXR:                     build (ver 1.7.1)
    GDAL:                        <span class="keyword">NO</span>
    GDCM:                        <span class="keyword">NO</span>

  Video I/O:
    DC1394 1.x:                  <span class="keyword">NO</span>
    DC1394 2.x:                  <span class="keyword">NO</span>
    FFMPEG:                      <span class="keyword">NO</span>
      avcodec:                   <span class="keyword">NO</span>
      avformat:                  <span class="keyword">NO</span>
      avutil:                    <span class="keyword">NO</span>
      swscale:                   <span class="keyword">NO</span>
      avresample:                <span class="keyword">NO</span>
    GStreamer:                   <span class="keyword">NO</span>
    OpenNI:                      <span class="keyword">NO</span>
    OpenNI PrimeSensor Modules:  <span class="keyword">NO</span>
    OpenNI2:                     <span class="keyword">NO</span>
    PvAPI:                       <span class="keyword">NO</span>
    GigEVisionSDK:               <span class="keyword">NO</span>
    Aravis SDK:                  <span class="keyword">NO</span>
    UniCap:                      <span class="keyword">NO</span>
    UniCap ucil:                 <span class="keyword">NO</span>
    V4L/V4L2:                    <span class="keyword">NO</span>/<span class="keyword">NO</span>
    XIMEA:                       <span class="keyword">NO</span>
    Xine:                        <span class="keyword">NO</span>
    gPhoto2:                     <span class="keyword">NO</span>

  Parallel framework:            pthreads

  Other third-party libraries:
    <span class="keyword">Use</span> IPP:                     <span class="keyword">NO</span>
    <span class="keyword">Use</span> IPP Async:               <span class="keyword">NO</span>
    <span class="keyword">Use</span> VA:                      <span class="keyword">NO</span>
    <span class="keyword">Use</span> Intel VA-API/OpenCL:     <span class="keyword">NO</span>
    <span class="keyword">Use</span> Lapack:                  <span class="keyword">NO</span>
    <span class="keyword">Use</span> Eigen:                   <span class="keyword">NO</span>
    <span class="keyword">Use</span> Cuda:                    <span class="keyword">NO</span>
    <span class="keyword">Use</span> OpenCL:                  YES
    <span class="keyword">Use</span> OpenVX:                  <span class="keyword">NO</span>
    <span class="keyword">Use</span> custom HAL:              <span class="keyword">NO</span>

  OpenCL:                        &lt;Dynamic loading of OpenCL library&gt;
    <span class="keyword">Include</span> path:                /io/opencv/3rdparty/<span class="keyword">include</span>/opencl/1.2
    <span class="keyword">Use</span> AMDFFT:                  <span class="keyword">NO</span>
    <span class="keyword">Use</span> AMDBLAS:                 <span class="keyword">NO</span>

  Python 2:
    Interpreter:                 python (ver 2.7.13)
    Libraries:                   
    numpy:                       /opt/python/cp27-cp27mu/lib/python2.7/site-packages/numpy/core/<span class="keyword">include</span> (ver 1.11.1)
    packages path:               /opt/python/cp27-cp27mu/lib/python2.7/site-packages

  Python 3:
    Interpreter:                 <span class="keyword">NO</span>

  Python (<span class="keyword">for</span> build):            python

  Java:
    ant:                         <span class="keyword">NO</span>
    JNI:                         <span class="keyword">NO</span>
    Java wrappers:               <span class="keyword">NO</span>
    Java tests:                  <span class="keyword">NO</span>

  Matlab:                        Matlab not found or implicitly disabled

  Tests and samples:
    Tests:                       <span class="keyword">NO</span>
    Performance tests:           <span class="keyword">NO</span>
    C/C++ Examples:              <span class="keyword">NO</span>

  Install path:                  /usr/<span class="keyword">local</span>

  cvconfig.<span class="keyword">h</span> is <span class="keyword">in</span>:              /io/opencv/build
-----------------------------------------------------------------
</code></pre><p>å®‰è£…å®˜æ–¹ç»™å‡ºçš„å»ºè®®ï¼Œé‡æ–°ç¼–è¯‘ï¼Œç‰¹åˆ«æ³¨æ„ä¸€äº›å¼€å…³è¦è®¾ç½®ä¸‹ï¼š</p>
<pre><code>sudo apt-get -y install libopencv-dev build-essential checkinstall cmake pkg-config yasm  libjpeg-dev libjasper-dev libavcodec-dev libavformat-dev libswscale-dev libdc1394-22-dev  libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev libv4l-dev python-dev python-numpy libtbb-dev libqt4-dev libgtk2.0-dev libfaac-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev libtheora-dev libvorbis-dev libxvidcore-dev x264 v4l-utils libtiff5-dev libjpeg62-dev ffmpeg libatlas-base-dev gfortran

cmake 
-<span class="ruby"><span class="constant">D</span> <span class="constant">CMAKE_BUILD_TYPE</span>=<span class="constant">RELEASE</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">CMAKE_INSTALL_PREFIX</span>=<span class="regexp">/usr/local</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">FORCE_VTK</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">BUILD_NEW_PYTHON_SUPPORT</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">INSTALL_C_EXAMPLES</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">INSTALL_PYTHON_EXAMPLES</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_TBB</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_V4L</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_QT</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_OPENGL</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_CUBLAS</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">CUDA_NVCC_FLAGS</span>=<span class="string">"-D_FORCE_INLINES"</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_GDAL</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_XINE</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">BUILD_EXAMPLES</span>=<span class="constant">ON</span> \
</span>-<span class="ruby"><span class="constant">D</span> <span class="constant">WITH_FFMPEG</span>=<span class="constant">ON</span> ..</span>
</code></pre><p>   make -j32<br>   make install</p>
<p>ä½†æ˜¯æˆ‘å‘ç°ï¼Œåœ¨é‡æ–°ç¼–è¯‘åå®‰è£…åçš„<code>cv2.so</code>ï¼Œå¼•å…¥åˆ°pythonåå¾—åˆ°çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code>GUI: 
    QT 4.x:                      YES (ver 4.8.7 EDITION = OpenSource)
    QT OpenGL support:           YES (/usr/lib/x86_64-linux-gnu/libQtOpenGL.<span class="keyword">so</span>)
    OpenGL support:              YES (/usr/lib/x86_64-linux-gnu/libGLU.<span class="keyword">so</span> /usr/lib/x86_64-linux-gnu/libGL.<span class="keyword">so</span>)
    VTK support:                 <span class="keyword">NO</span>

  Media I/O: 
    ZLib:                        /usr/lib/x86_64-linux-gnu/libz.<span class="keyword">so</span> (ver 1.2.8)
    JPEG:                        /usr/lib/x86_64-linux-gnu/libjpeg.<span class="keyword">so</span> (ver )
    WEBP:                        build (ver 0.3.1)
    PNG:                         /usr/lib/x86_64-linux-gnu/libpng.<span class="keyword">so</span> (ver 1.2.54)
    TIFF:                        /usr/lib/x86_64-linux-gnu/libtiff.<span class="keyword">so</span> (ver 42 - 4.0.6)
    JPEG 2000:                   /usr/lib/x86_64-linux-gnu/libjasper.<span class="keyword">so</span> (ver 1.900.1)
    OpenEXR:                     /usr/lib/x86_64-linux-gnu/libImath.<span class="keyword">so</span> /usr/lib/x86_64-linux-gnu/libIlmImf.<span class="keyword">so</span> /usr/lib/x86_64-linux-gnu/libIex.<span class="keyword">so</span> /usr/lib/x86_64-linux-gnu/libHalf.<span class="keyword">so</span> /usr/lib/x86_64-linux-gnu/libIlmThread.<span class="keyword">so</span> (ver 2.2.0)
    GDAL:                        <span class="keyword">NO</span>
    GDCM:                        <span class="keyword">NO</span>

  Video I/O:
    DC1394 1.x:                  <span class="keyword">NO</span>
    DC1394 2.x:                  YES (ver 2.2.4)
    FFMPEG:                      YES
      avcodec:                   YES (ver 56.60.100)
      avformat:                  YES (ver 56.40.101)
      avutil:                    YES (ver 54.31.100)
      swscale:                   YES (ver 3.1.101)
      avresample:                <span class="keyword">NO</span>
    GStreamer:                   
      base:                      YES (ver 0.10.36)
      video:                     YES (ver 0.10.36)
      <span class="keyword">app</span>:                       YES (ver 0.10.36)
      riff:                      YES (ver 0.10.36)
      pbutils:                   YES (ver 0.10.36)
    OpenNI:                      <span class="keyword">NO</span>
    OpenNI PrimeSensor Modules:  <span class="keyword">NO</span>
    OpenNI2:                     <span class="keyword">NO</span>
    PvAPI:                       <span class="keyword">NO</span>
    GigEVisionSDK:               <span class="keyword">NO</span>
    Aravis SDK:                  <span class="keyword">NO</span>
    UniCap:                      <span class="keyword">NO</span>
    UniCap ucil:                 <span class="keyword">NO</span>
    V4L/V4L2:                    <span class="keyword">NO</span>/YES
    XIMEA:                       <span class="keyword">NO</span>
    Xine:                        <span class="keyword">NO</span>
    gPhoto2:                     <span class="keyword">NO</span>

  Parallel framework:            TBB (ver 4.4 interface 9002)

  Other third-party libraries:
    <span class="keyword">Use</span> IPP:                     9.0.1 [9.0.1]
         at:                     /home/gwang/opencv-3.2.0/build/3rdparty/ippicv/ippicv_lnx
    <span class="keyword">Use</span> IPP Async:               <span class="keyword">NO</span>
    <span class="keyword">Use</span> VA:                      <span class="keyword">NO</span>
    <span class="keyword">Use</span> Intel VA-API/OpenCL:     <span class="keyword">NO</span>
    <span class="keyword">Use</span> Lapack:                  YES (/opt/intel/mkl/lib/intel64/libmkl_core.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_intel_lp64.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_sequential.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_core.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_intel_lp64.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_sequential.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_core.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_intel_lp64.<span class="keyword">so</span> /opt/intel/mkl/lib/intel64/libmkl_sequential.<span class="keyword">so</span> -lpthread -lm -ldl)
    <span class="keyword">Use</span> Eigen:                   <span class="keyword">NO</span>
    <span class="keyword">Use</span> Cuda:                    YES (ver 8.0)
    <span class="keyword">Use</span> OpenCL:                  YES
    <span class="keyword">Use</span> OpenVX:                  <span class="keyword">NO</span>
    <span class="keyword">Use</span> custom HAL:              <span class="keyword">NO</span>

  NVIDIA CUDA
    <span class="keyword">Use</span> CUFFT:                   YES
    <span class="keyword">Use</span> CUBLAS:                  YES
    <span class="keyword">USE</span> NVCUVID:                 <span class="keyword">NO</span>
    NVIDIA GPU <span class="keyword">arch</span>:             20 30 35 37 50 52 60 61
    NVIDIA PTX archs:
    <span class="keyword">Use</span> fast math:               <span class="keyword">NO</span>

  OpenCL:                        &lt;Dynamic loading of OpenCL library&gt;
    <span class="keyword">Include</span> path:                /home/gwang/opencv-3.2.0/3rdparty/<span class="keyword">include</span>/opencl/1.2
    <span class="keyword">Use</span> AMDFFT:                  <span class="keyword">NO</span>
    <span class="keyword">Use</span> AMDBLAS:                 <span class="keyword">NO</span>

  Python 2:
    Interpreter:                 /usr/bin/python2.7 (ver 2.7.12)
    Libraries:                   /usr/lib/x86_64-linux-gnu/libpython2.7.<span class="keyword">so</span> (ver 2.7.12)
    numpy:                       /usr/<span class="keyword">local</span>/lib/python2.7/dist-packages/numpy/core/<span class="keyword">include</span> (ver 1.11.0)
    packages path:               lib/python2.7/dist-packages

  Python 3:
    Interpreter:                 /usr/bin/python3 (ver 3.5.2)

  Python (<span class="keyword">for</span> build):            /usr/bin/python2.7

  Java:
    ant:                         <span class="keyword">NO</span>
    JNI:                         /usr/lib/jvm/default-java/<span class="keyword">include</span> /usr/lib/jvm/default-java/<span class="keyword">include</span>/linux /usr/lib/jvm/default-java/<span class="keyword">include</span>
    Java wrappers:               <span class="keyword">NO</span>
    Java tests:                  <span class="keyword">NO</span>

  Matlab:
    mex:                         /usr/<span class="keyword">local</span>/MATLAB/R2014a/bin/mex
    Compiler/generator:          Not working (bindings will not be generated)

  Documentation:
    Doxygen:                     <span class="keyword">NO</span>

  Tests and samples:
    Tests:                       YES
    Performance tests:           YES
    C/C++ Examples:              YES

  Install path:                  /usr/<span class="keyword">local</span>

  cvconfig.<span class="keyword">h</span> is <span class="keyword">in</span>:              /home/gwang/opencv-3.2.0/build
-----------------------------------------------------------------
</code></pre><p>åŒæ ·åœ¨ç»ˆç«¯å†…pythonæ§åˆ¶å°å¾—åˆ°çš„informationå’Œ.pyæ–‡ä»¶å†…å¾—åˆ°informationå±…ç„¶ä¸ä¸€æ ·ï¼Œä»”ç»†åˆ†æå‘ç°è¿™ä¸¤ä¸ªä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œæƒ³æƒ³æ˜¯ä¸æ˜¯é€šè¿‡å…¶ä»–æ–¹å¼å®‰è£…äº†opencvï¼Œé€šè¿‡å°è¯•å¦‚ä¸‹å‘½ä»¤å‘ç°äº†è¿™ä¸ªbugï¼š</p>
<pre><code>sudo pip uninstall opencv-python

The directory '/home/xxx/.cache/pip/http' <span class="keyword">or</span> <span class="keyword">its</span> parent directory <span class="keyword">is</span> <span class="keyword">not</span> owned <span class="keyword">by</span> <span class="keyword">the</span> current user <span class="keyword">and</span> <span class="keyword">the</span> cache has been disabled. Please check <span class="keyword">the</span> permissions <span class="keyword">and</span> owner <span class="keyword">of</span> <span class="keyword">that</span> directory. If executing pip <span class="keyword">with</span> sudo, you may want sudo's -H flag.
Uninstalling opencv-python-<span class="number">3.2</span>.0.7:
  /home/xxx/.<span class="keyword">local</span>/LICENSE-<span class="number">3</span>RD-PARTY.txt
  /home/xxx/.<span class="keyword">local</span>/LICENSE.txt
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/cv2/__init__.py
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/cv2/__init__.pyc
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/cv2/cv2.so
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/DESCRIPTION.rst
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/INSTALLER
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/METADATA
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/RECORD
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/WHEEL
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/metadata.json
  /home/xxx/.<span class="keyword">local</span>/lib/python2.7/site-packages/opencv_python-<span class="number">3.2</span>.0.7.dist-info/top_level.txt
Proceed (y/n)? 
y
  Successfully uninstalled opencv-python-<span class="number">3.2</span>.0.7
The directory '/home/xx/.cache/pip/http' <span class="keyword">or</span> <span class="keyword">its</span> parent directory <span class="keyword">is</span> <span class="keyword">not</span> owned <span class="keyword">by</span> <span class="keyword">the</span> current user <span class="keyword">and</span> <span class="keyword">the</span> cache has been disabled. Please check <span class="keyword">the</span> permissions <span class="keyword">and</span> owner <span class="keyword">of</span> <span class="keyword">that</span> directory. If executing pip <span class="keyword">with</span> sudo, you may want sudo's -H flag.
</code></pre><p>å¸è½½åï¼Œåˆ°ç»ˆç«¯pythonå‘½ä»¤è¡Œå†…è¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt;python
<span class="prompt">&gt;&gt;</span>&gt;import cv2
<span class="prompt">&gt;&gt;</span>&gt;<span class="constant">Traceback</span> (most recent call last)<span class="symbol">:</span>
  <span class="constant">File</span> <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span>
<span class="constant">ImportError</span><span class="symbol">:</span> <span class="constant">No</span> <span class="class"><span class="keyword">module</span> <span class="title">named</span> <span class="title">cv2</span></span>
</code></pre><p>æ²¡æœ‰æ‰¾åˆ°cv2ï¼Œé‚£ä¹ˆè¦æŠŠç¼–è¯‘å®‰è£…åçš„cv2.soé‡æ–°é“¾æ¥ä¸‹ï¼š</p>
<pre><code>cd <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>python2.7/dist-packages
sudo ln -s <span class="regexp">/home/</span>xxx<span class="regexp">/opencv3.2/</span>build<span class="regexp">/lib/</span>cv2.so cv2.so
</code></pre><p>è‡³æ­¤ï¼Œç»ˆäºæå®šè¿™ä¸ªé—®é¢˜ï¼ï¼</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ç¼–è¯‘abå‹åŠ›æµ‹è¯•å¹¶å‘(Ubuntu)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/08/ç¼–è¯‘abå‹åŠ›æµ‹è¯•å¹¶å‘(Ubuntu)/" class="article-date">
  	<time datetime="2017-09-08T07:50:31.000Z" itemprop="datePublished">2017-09-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/08/ç¼–è¯‘abå‹åŠ›æµ‹è¯•å¹¶å‘(Ubuntu)/">ç¼–è¯‘abå‹åŠ›æµ‹è¯•å¹¶å‘(Ubuntu)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Abstract</strong></p>
<p>ç”¨æ·±åº¦å­¦ä¹ æ¡†æ¶caffeåšçš„projectï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œå¹¶å‘æ•°è¯·æ±‚æ•°çš„å‹åŠ›æµ‹è¯•ï¼Œæ‰¾åˆ°äº†apachebench(ab)ç®€å•çš„å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œä½†åœ¨Ubuntuä¸‹é€šè¿‡apt-getå®‰è£…çš„abï¼Œåœ¨å¤„ç†è¯·æ±‚æ•°é«˜äº200,300å·¦å³çš„æ—¶å€™å°±ä¼šæŠ¥é”™ç»ˆæ­¢<code>apr_socket_recv: Connection reset by peer</code>ï¼ŒæŸ¥é˜…èµ„æ–™æ˜¾ç¤ºéœ€è¦å¯¹abè¿›è¡Œé‡æ–°ä¿®æ”¹å¹¶ç¼–è¯‘åæ–¹å¯ç ´é™¤è¿™ä¸ªé—®é¢˜ï¼ˆæ— è®ºæ˜¯å¦‚ä½•å®‰è£…çš„ï¼Œéƒ½è¦ä»å¤´å¼€å§‹é‡æ–°ä¿®æ”¹ç¼–è¯‘å®‰è£…ï¼‰ã€‚</p>
<p><strong>1.ä¸‹è½½æ‰€éœ€è¦çš„æºç </strong></p>
<p>aprå’Œapr-utilä¸‹è½½ï¼š<a href="http://apr.apache.org/download.cgi" target="_blank" rel="external">http://apr.apache.org/download.cgi </a></p>
<p>ab-standaloneæºç ä¸‹è½½:<a href="https://code.google.com/p/apachebench-standalone/downloads/list" target="_blank" rel="external">https://code.google.com/p/apachebench-standalone/downloads/list</a></p>
<p><strong>2.ç¼–è¯‘å®‰è£…</strong></p>
<p>åˆ†åˆ«è§£å‹ä¸‰ä¸ªå‹ç¼©åŒ…ï¼š</p>
<pre><code>ab-standalone-<span class="number">0.1</span><span class="class">.tar</span><span class="class">.bz2</span> 
apr-<span class="number">1</span><span class="class">.x</span><span class="class">.x</span><span class="class">.tar</span><span class="class">.gz</span>  
apr-util-<span class="number">1</span><span class="class">.x</span><span class="class">.x</span><span class="class">.tar</span><span class="class">.gz</span>  
</code></pre><p><strong>a.ç¼–è¯‘apr</strong></p>
<pre><code><span class="variable">$ </span>cd apr
<span class="variable">$ </span>./configure  
<span class="variable">$ </span>make  
<span class="variable">$ </span>sudo make install  
</code></pre><p><strong>b.ç¼–è¯‘apr-util</strong></p>
<pre><code><span class="char">$ </span>cd apr-util 
<span class="char">$ </span>./configure --with-apr=/usr/local/apr  
<span class="char">$ </span>make  
<span class="char">$ </span>sudo make install  
</code></pre><p><strong>c.ç¼–è¯‘ab</strong></p>
<p>ä¿®æ”¹ab-standalone/ab.cæ–‡ä»¶</p>
<pre><code>$ <span class="keyword">cd</span> <span class="keyword">ab</span>/<span class="keyword">ab</span>-standalone  
$ <span class="keyword">vim</span> <span class="keyword">ab</span>.<span class="keyword">c</span>  
</code></pre><p>åˆ°1380è¡Œä¿®æ”¹æˆå¦‚ä¸‹:</p>
<pre><code><span class="comment">/* catch legitimate fatal apr_socket_recv errors */</span>  
<span class="keyword">else</span> <span class="keyword">if</span> <span class="params">(status != APR_SUCCESS)</span> {  
    err_recv++;  
    <span class="keyword">if</span> <span class="params">(recverrok)</span> {  
        bad++;  
        close_connection<span class="params">(c)</span>;  
        <span class="keyword">if</span> <span class="params">(verbosity &gt;= <span class="number">1</span>)</span> {  
            char buf[<span class="number">120</span>];  
            fprintf<span class="params">(stderr,<span class="string">"%s: %s (%d)\n"</span>, <span class="string">"apr_socket_recv"</span>, apr_strerror<span class="params">(status, buf, sizeof buf)</span>, status)</span>;  
        }  
        return;  
    } <span class="keyword">else</span> {  
        <span class="comment">//apr_err("apr_socket_recv", status);   // begin </span>
        bad++;  
        close_connection<span class="params">(c)</span>;  
        return;      <span class="comment">// end </span>
    }  
}  
</code></pre><p><em>ç„¶ååœ¨ç¼–è¯‘ä¹‹å‰å°†apr-util/include/ä¸‹çš„apr_base64.hå’Œapu.hæ‹·è´åˆ°ab-standaloneæ–‡ä»¶å¤¹å†…ï¼Œå¦åˆ™æ‰¾ä¸åˆ°å¤´æ–‡ä»¶</em></p>
<p>å¼€å§‹ç¼–è¯‘ab</p>
<pre><code>$ <span class="keyword">make</span> apr-skeleton
$ sudo <span class="keyword">make</span> <span class="keyword">ab</span>
$ sudo <span class="keyword">cp</span> <span class="keyword">ab</span> apr-skeleton /usr/local/bin/
</code></pre><hr>
<p><strong>3.æ³¨æ„</strong></p>
<p>è¿æ¥åº“æ–‡ä»¶é—®é¢˜ï¼š</p>
<p>ç»ˆç«¯ä¸­å®‰è£…ï¼š libapr1ï¼Œå¦åˆ™ä¼šå‡ºé”™æ‰¾ä¸åˆ°apr-1ï¼š<code>sudo apt-get install libapr1</code></p>
<p>æˆ–è€…ä»ç¼–è¯‘åçš„usr/local/apr/libä¸‹é¢å°†å‡ ä¸ªæ–‡ä»¶æ‹·è´åˆ°/usr/lib/x86_64-linux-gnuä¸‹åšé“¾æ¥ï¼š</p>
<pre><code>sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/apr/</span>lib<span class="regexp">/libaprutil-1.a /</span>usr<span class="regexp">/lib/</span>x86_64-linux-gnu/
sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/apr/</span>lib<span class="regexp">/liaprutil-1.so /</span>usr<span class="regexp">/lib/</span>x86_64-linux-gnu/
sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/apr/</span>lib<span class="regexp">/libaprutil-1.so.0.6.0 /</span>usr<span class="regexp">/lib/</span>x86_64-linux-gnu/
sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/apr/</span>lib<span class="regexp">/libaprutil-1.la /</span>usr<span class="regexp">/lib/</span>x86_64-linux-gnu/
cd <span class="regexp">/usr/</span>lib<span class="regexp">/x86_64-linux-gnu/</span>
sudo ln -s libaprutil-<span class="number">1.</span>so.0.6.0 libaprutil-<span class="number">1.</span>so.0
sudo ldconfig
</code></pre><p>åŒç†ï¼Œä¸é€‰æ‹©apt-getå®‰è£…ï¼Œè€Œå¦‚æ­¤è®¾ç½®libapr1.so.0å³å¯ã€‚</p>
<hr>
<p><strong>4.æµ‹è¯•</strong></p>
<p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>
<pre><code><span class="variable">$ </span>ab -<span class="constant">V</span>
<span class="constant">This </span>is <span class="constant">ApacheBench,</span> <span class="constant">Version </span><span class="number">2.3</span> &lt;<span class="variable">$Revision</span><span class="variable">$&gt;</span>
<span class="constant">Copyright </span><span class="number">1996</span> <span class="constant">Adam Twiss,</span> <span class="constant">Zeus Technology Ltd,</span> <span class="symbol">http:</span>/<span class="regexp">/www.zeustech.net/</span>
<span class="constant">Licensed </span>to <span class="constant">The Apache Software Foundation,</span> <span class="symbol">http:</span>/<span class="regexp">/www.apache.org/</span>
</code></pre><p>æµ‹è¯•å¹¶å‘æ•°ï¼š</p>
<pre><code>ab -n <span class="number">500</span> -c <span class="number">500</span> <span class="number">127.0</span>.0.1  # -nè¯·æ±‚æ•°ï¼Œ-cå¹¶å‘æ•°ï¼Œ-n&gt;=-c

This is ApacheBench, Version <span class="number">2.3</span> &lt;$Revision$&gt;
Copyright <span class="number">1996</span> Adam Twiss, Zeus Technology Ltd, <span class="string">http:</span><span class="comment">//www.zeustech.net/</span>
Licensed to The Apache Software Foundation, <span class="string">http:</span><span class="comment">//www.apache.org/</span>

Benchmarking <span class="number">127.0</span>.0.1 (be patient)
Completed <span class="number">100</span> requests
Completed <span class="number">200</span> requests
Completed <span class="number">300</span> requests
Completed <span class="number">400</span> requests
Completed <span class="number">500</span> requests
Finished <span class="number">500</span> requests


Server <span class="string">Software:</span>        TornadoServer/<span class="number">4.5</span>.2
Server <span class="string">Hostname:</span>        <span class="number">127.0</span>.0.1
Server <span class="string">Port:</span>            <span class="number">1000</span>

Document <span class="string">Path:</span>          /
Document <span class="string">Length:</span>        <span class="number">221727</span> bytes

Concurrency <span class="string">Level:</span>      <span class="number">500</span>
Time taken <span class="keyword">for</span> <span class="string">tests:</span>   <span class="number">215.661</span> seconds
Complete <span class="string">requests:</span>      <span class="number">500</span>
Failed <span class="string">requests:</span>        <span class="number">1023</span>
   (<span class="string">Connect:</span> <span class="number">0</span>, <span class="string">Receive:</span> <span class="number">341</span>, <span class="string">Length:</span> <span class="number">341</span>, <span class="string">Exceptions:</span> <span class="number">341</span>)
Write <span class="string">errors:</span>           <span class="number">0</span>
Total <span class="string">transferred:</span>      <span class="number">35272401</span> bytes
HTML <span class="string">transferred:</span>       <span class="number">35254593</span> bytes
Requests per <span class="string">second:</span>    <span class="number">2.32</span> [#/sec] (mean)
Time per <span class="string">request:</span>       <span class="number">215661.110</span> [ms] (mean)
Time per <span class="string">request:</span>       <span class="number">431.322</span> [ms] (mean, across all concurrent requests)
Transfer <span class="string">rate:</span>          <span class="number">159.72</span> [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
<span class="string">Connect:</span>        <span class="number">0</span>  <span class="number">355</span> <span class="number">3586.5</span>      <span class="number">0</span>   <span class="number">63141</span>
<span class="string">Processing:</span>  <span class="number">1557</span> <span class="number">119576</span> <span class="number">33974.7</span> <span class="number">127335</span>  <span class="number">182963</span>
<span class="string">Waiting:</span>        <span class="number">0</span> <span class="number">33466</span> <span class="number">58718.9</span>      <span class="number">0</span>  <span class="number">182963</span>
<span class="string">Total:</span>       <span class="number">1566</span> <span class="number">119931</span> <span class="number">34207.2</span> <span class="number">127335</span>  <span class="number">210234</span>

Percentage of the requests served within a certain time (ms)
  <span class="number">50</span>%  <span class="number">127335</span>
  <span class="number">66</span>%  <span class="number">127336</span>
  <span class="number">75</span>%  <span class="number">127337</span>
  <span class="number">80</span>%  <span class="number">127337</span>
  <span class="number">90</span>%  <span class="number">151213</span>
  <span class="number">95</span>%  <span class="number">175948</span>
  <span class="number">98</span>%  <span class="number">176152</span>
  <span class="number">99</span>%  <span class="number">177742</span>
 <span class="number">100</span>%  <span class="number">210234</span> (longest request)
</code></pre><p><strong>å‚è€ƒ</strong></p>
<p><a href="http://shenwang.blog.ustc.edu.cn/%E5%AE%89%E8%A3%85abapachebench-standalone/" target="_blank" rel="external">http://shenwang.blog.ustc.edu.cn/%E5%AE%89%E8%A3%85abapachebench-standalone/</a><br><a href="http://blog.csdn.net/kimsung/article/details/9422991" target="_blank" rel="external">http://blog.csdn.net/kimsung/article/details/9422991</a><br><a href="https://code.google.com/p/apachebench-standalone/wiki/HowToBuild" target="_blank" rel="external">https://code.google.com/p/apachebench-standalone/wiki/HowToBuild</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debug/">Debug</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Caffeè®­ç»ƒåˆ†ç±»æ¨¡å‹" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/08/31/Caffeè®­ç»ƒåˆ†ç±»æ¨¡å‹/" class="article-date">
  	<time datetime="2017-08-31T06:27:54.000Z" itemprop="datePublished">2017-08-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/31/Caffeè®­ç»ƒåˆ†ç±»æ¨¡å‹/">Caffeè®­ç»ƒåˆ†ç±»æ¨¡å‹</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>1.å®‰è£…Caffe</strong></p>
<p>æŒ‰ç…§å®˜æ–¹<a href="https://github.com/BVLC/caffe" target="_blank" rel="external">https://github.com/BVLC/caffe</a>è¯´æ˜è¿›è¡Œç¼–è¯‘ï¼Œè‹¥ä½¿ç”¨äº†è¾ƒè€çš„cudnnç‰ˆæœ¬ï¼Œåˆ™è¦åœ¨è€ç‰ˆæœ¬çš„caffeä¸æ–°ç‰ˆæœ¬çš„caffeè¿›è¡Œåˆå¹¶ï¼Œå…·ä½“æ˜¯å°†cudnnå¼€å¤´çš„ç›¸å…³æ–‡ä»¶æ›¿æ¢æ‰æ—§ç‰ˆæœ¬caffeé‡Œçš„ã€‚</p>
<p><strong>2.æ•´ç†è‡ªå·±çš„æ•°æ®</strong></p>
<p>å›¾åƒæ–‡ä»¶å¯ä»¥æ”¾ç½®åœ¨ç¡¬ç›˜çš„ä»»ä½•ä½ç½®ï¼Œå°†è®­ç»ƒçš„å›¾åƒåŠlabelç”Ÿæˆä¸€ä¸ªtrain.txtæ–‡ä»¶ï¼Œç„¶åéªŒè¯å›¾åƒå’Œlabelç”Ÿæˆä¸€ä¸ªval.txtï¼Œä¸€èµ·æ”¾åˆ°caffe/data/mydataæ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<pre><code>path/to/image/<span class="number">001</span><span class="class">.jpg</span> <span class="number">0</span>
path/to/image/<span class="number">002</span><span class="class">.jpg</span> <span class="number">1</span>
path/to/image/<span class="number">003</span><span class="class">.jpg</span> <span class="number">2</span>
</code></pre><p>åœ¨caffe/examples/imagenetä¸­ï¼Œå°†åˆ›å»ºlmdbæ–‡ä»¶å’Œmeanæ–‡ä»¶çš„çš„å‡ ä¸ªshæ–‡ä»¶æ‹·è´åˆ°è‡ªå·±çš„examples/mytaskä¸­ï¼Œç„¶åä¿®æ”¹è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„å‡ ä¸ªåœ°å€å’Œåç§°ï¼š</p>
<p><strong>ä¿®æ”¹create_imagenet.sh</strong></p>
<pre><code><span class="comment">//å½“å‰è·¯å¾„</span>
EXAMPLE=/home/xxx/caffe/examples/mytask
<span class="comment">//å­˜æ”¾train.txtå’Œval.txtçš„è·¯å¾„ï¼Œå°±æ˜¯data/mydata</span>
DATA=/home/xxx/caffe/data/mydata
<span class="comment">//ä¸å˜</span>
TOOLS=/home/xxx/caffe/build/tools

<span class="comment">//å­˜æ”¾trainå’Œvalå›¾ç‰‡æ–‡ä»¶å¤¹çš„ä¸»ç›®å½•ï¼ˆè¿™é‡Œä¸txtæ–‡ä»¶ä¸­çš„ç›®å½•åˆèµ·æ¥æ‰æ˜¯å›¾ç‰‡ç›®å½•ï¼‰</span>
TRAIN_DATA_ROOT=/home/xxx/project-data/
VAL_DATA_ROOT=/home/xxx/project-data/

GLOG_logtostderr=<span class="number">1</span> <span class="variable">$TOOLS</span>/convert_imageset \
    --resize_height=<span class="variable">$RESIZE_HEIGHT</span> \
    --resize_width=<span class="variable">$RESIZE_WIDTH</span> \
    --shuffle \
    <span class="variable">$TRAIN_DATA_ROOT</span> \
    <span class="variable">$DATA</span>/train<span class="class">.txt</span> \
    <span class="variable">$EXAMPLE</span>/train_lmdb  ##ä¿®æ”¹åç§°ï¼Œä¸prototxtä¸­çš„å¯¹åº”

echo <span class="string">"Creating val lmdb..."</span>

GLOG_logtostderr=<span class="number">1</span> <span class="variable">$TOOLS</span>/convert_imageset \
    --resize_height=<span class="variable">$RESIZE_HEIGHT</span> \
    --resize_width=<span class="variable">$RESIZE_WIDTH</span> \
    --shuffle \
    <span class="variable">$VAL_DATA_ROOT</span> \
    <span class="variable">$DATA</span>/val<span class="class">.txt</span> \
    <span class="variable">$EXAMPLE</span>/val_lmdb  ##ä¿®æ”¹åç§°
</code></pre><p>åŒç†ï¼Œä¿®æ”¹make_imagenet_mean.shã€‚</p>
<p>åˆ†åˆ«æ‰§è¡Œè¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œåˆ›å»ºæ–‡ä»¶lmdbæ•°æ®åº“å’Œå‡å€¼meanæ–‡ä»¶ã€‚</p>
<p><strong>3.è®¾ç½®æ¨¡å‹</strong></p>
<p>åœ¨caffe/modelsä¸‹æœ‰å¾ˆå¤šé¢„åˆ¶çš„æ¨¡å‹å¯ä¾›ä½¿ç”¨ï¼Œæ¨¡å‹æ–‡ä»¶ä¸€å…±å¯åŒ…æ‹¬è‡³å°‘ä¸‰ä¸ªæ–‡ä»¶ï¼šdeploy.prototxtï¼›solver.prototxtï¼›train_val.prototxtï¼Œæœ‰æ—¶éœ€è¦finetuneå·²è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè¿˜éœ€è¦ä¸€äº›æ¯”å¦‚åœ¨imagenetä¸Šé¢„è®­ç»ƒçš„caffemodelæ–‡ä»¶ã€‚</p>
<p>sovleré‡Œé¢åŒ…å«è¶…å‚æ•°å’Œä¸€äº›ä¿¡æ¯ï¼š</p>
<pre><code><span class="attribute">net</span>: <span class="string">"models/bvlc_googlenet/train_val.prototxt"</span>
<span class="attribute">test_iter</span>: <span class="string">1000</span>
<span class="attribute">test_interval</span>: <span class="string">4000</span>
<span class="attribute">test_initialization</span>: <span class="string">false</span>
<span class="attribute">display</span>: <span class="string">40</span>
<span class="attribute">average_loss</span>: <span class="string">40</span>
<span class="attribute">base_lr</span>: <span class="string">0.01</span>
<span class="attribute">lr_policy</span>: <span class="string">"step"</span>
<span class="attribute">stepsize</span>: <span class="string">320000</span>
<span class="attribute">gamma</span>: <span class="string">0.96</span>
<span class="attribute">max_iter</span>: <span class="string">10000000</span>
<span class="attribute">momentum</span>: <span class="string">0.9</span>
<span class="attribute">weight_decay</span>: <span class="string">0.0002</span>
<span class="attribute">snapshot</span>: <span class="string">40000</span>
<span class="attribute">snapshot_prefix</span>: <span class="string">"models/bvlc_googlenet/bvlc_googlenet"</span>
<span class="attribute">solver_mode</span>: <span class="string">GPU</span>
</code></pre><p>train_valé‡Œé¢çš„ä¸»è¦ä¿®æ”¹çš„åœ°æ–¹æ˜¯batch_sizeï¼Œå®ƒä¸sovleré‡Œé¢çš„test_iterç›¸ä¹˜çš„ç»“æœå¯¹åº”è®­ç»ƒå›¾åƒçš„æ€»æ•°ï¼›ä¿®æ”¹trainå’Œvalçš„sorceæ–‡ä»¶åœ°å€ï¼štrain_lmdb,val_lmdb. </p>
<pre><code><span class="tag">data_param</span> {
<span class="attribute">source</span>: <span class="string">"examples/imagenet/ilsvrc12_train_lmdb"</span>
<span class="attribute">batch_size</span>: <span class="number">32</span>
<span class="attribute">backend</span>: LMDB
  }
</code></pre><p>PS: è‹¥ä½¿ç”¨lmdbçš„è¯ï¼Œtypeä¸ºDataï¼Œä½¿ç”¨å›¾åƒçš„è¯å°±æ˜¯ImageData</p>
<pre><code>layer {
  name: <span class="string">"data"</span>
  <span class="keyword">type</span>: <span class="string">"Data"</span>
  top: <span class="string">"data"</span>
  top: <span class="string">"label"</span>
  <span class="keyword">include</span> {
    phase: <span class="type">TRAIN</span>
  }
</code></pre><p>PS: åœ¨finetuneæ®‹å·®ç½‘ç»œresnetæ—¶ï¼Œç½‘ç»œç»“æ„æ–‡ä»¶ä¸­BatchNormå±‚çš„å‚æ•°è¦æ³¨æ„ï¼š </p>
<pre><code><span class="attribute">1.åœ¨è®­ç»ƒæ—¶æ‰€æœ‰BNå±‚è¦è®¾ç½®use_global_stats</span>: <span class="string">falseï¼ˆä¹Ÿå¯ä»¥ä¸å†™ï¼Œcaffeé»˜è®¤æ˜¯falseï¼‰ </span>
<span class="attribute">2.åœ¨æµ‹è¯•æ—¶æ‰€æœ‰BNå±‚è¦è®¾ç½®use_global_stats</span>: <span class="string">true</span>

<span class="cal"><span class="string">#1</span>.è®­ç»ƒå¦‚æœä¸è®¾ä¸º<span class="literal">false</span>ï¼Œä¼šå¯¼è‡´æ¨¡å‹ä¸æ”¶æ•› 
<span class="string">#2</span>.æµ‹è¯•å¦‚æœä¸è®¾ç½®ä¸º<span class="literal">true</span>ï¼Œä¼šå¯¼è‡´å‡†ç¡®ç‡æä½ </span>
</code></pre><p><strong>4.å¼€å§‹è®­ç»ƒ</strong></p>
<pre><code><span class="shebang">#!/bin/bash</span>
<span class="shebang">#!/usr/bin/env sh</span>
PRETRAINED_MODEL=./models/resnet50/ResNet-<span class="number">50</span>-model.caffemodel
t=$(date +%Y-%m-%d_%H:%M:%S) 
LOG=./<span class="built_in">log</span>/train_res50_<span class="variable">$t</span>.log
GLOG_logtostderr=<span class="number">1</span> ./build/tools/caffe train \
    --solver=./models/resnet50/solver.prototxt \
    --weights=<span class="variable">$PRETRAINED_MODEL</span> \
    --gpu=<span class="number">0</span>,<span class="number">1</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> | tee <span class="variable">$LOG</span>
</code></pre><p>è®­ç»ƒæ—¶è‹¥å‡ºç°å†…å­˜ä¸è¶³åœæ­¢ï¼Œè¦å‡å°train_val.prototxtä¸­batchsizeçš„å¤§å°ã€‚<br>è‹¥å‡ºç°waiting for dataï¼Œå¯èƒ½æ˜¯ç¡¬ç›˜è¯»å†™é€Ÿåº¦æ…¢ï¼Œé‚£å°±waitingå§ã€‚ã€‚ã€‚</p>
<p><strong>5.æµ‹è¯•</strong></p>
<pre><code><span class="shebang">#!/bin/bash</span>
<span class="shebang">#!/usr/bin/env sh</span>
GLOG_logtostderr=<span class="number">1</span> ./build/tools/caffe <span class="built_in">test</span> \
    --model=./models/resnet50/ResNet-<span class="number">50</span>-train-val.prototxt \
    --weights=./models/resnet50/output_iter_100000.caffemodel \
    --gpu=<span class="number">1</span> \
    --iterations=<span class="number">2000</span>
</code></pre><p><strong>6.åˆ†ç±»demo</strong></p>
<p>åœ¨caffe/pythonä¸‹çš„classify.pyæ–‡ä»¶å¯ä»¥ç”¨æ¥å¯¹å›¾åƒè¿›è¡Œåˆ†ç±»ï¼Œä½†æ˜¯æ²¡æœ‰è¾“å‡ºå¯è§çš„åˆ†ç±»ç»“æœï¼Œéœ€è¦æ”¹å†™äº›å†…å®¹ã€‚å¼€å§‹ä¹‹å‰éœ€è¦æŠŠmeanå‡å€¼æ–‡ä»¶è½¬æ¢ä¸º.npyæ ¼å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import caffe
import numpy as np
import sys

<span class="keyword">if</span> <span class="function"><span class="title">len</span><span class="params">(sys.argv)</span></span> != <span class="number">3</span>:
    print <span class="string">"Usage: python convert_protomean.py proto.mean out.npy"</span>
    sys.<span class="function"><span class="title">exit</span><span class="params">()</span></span>

blob = caffe<span class="class">.proto</span><span class="class">.caffe_pb2</span><span class="class">.BlobProto</span>()
data = <span class="function"><span class="title">open</span><span class="params">( sys.argv[<span class="number">1</span>] , <span class="string">'rb'</span> )</span></span>.<span class="function"><span class="title">read</span><span class="params">()</span></span>
blob.<span class="function"><span class="title">ParseFromString</span><span class="params">(data)</span></span>
arr = np.<span class="function"><span class="title">array</span><span class="params">( caffe.io.blobproto_to_array(blob)</span></span> )
out = arr[<span class="number">0</span>]
np.<span class="function"><span class="title">save</span><span class="params">( sys.argv[<span class="number">2</span>] , out )</span></span>
</code></pre><p><strong>è‡ªå·±æ”¹å†™çš„classify-demo.py</strong></p>
<pre><code><span class="built_in">import</span> numpy as np
<span class="built_in">import</span> sys
<span class="built_in">import</span> os
<span class="built_in">import</span> caffe
<span class="built_in">import</span> io
<span class="built_in">#</span>from sys <span class="built_in">import</span> argv
<span class="built_in">#</span>input filefolder you want to test
<span class="built_in">#</span>tools,filefolder=argv

caffe.set_device<span class="params">(<span class="number">0</span>)</span> 
caffe.set_mode_gpu<span class="params">()</span>
MODEL_FILE =<span class="string">"../models/googlenet/deploy.prototxt"</span>
PRETRAINED = <span class="string">"../models/googlenet/output/bvlc_googlenet_iter_200000.caffemodel"</span>
MEAN = <span class="string">"mean.npy"</span>

net = caffe.Classifier<span class="params">(MODEL_FILE, PRETRAINED, mean = np.load<span class="params">(MEAN)</span>.mean<span class="params">(<span class="number">1</span>)</span>.mean<span class="params">(<span class="number">1</span>)</span>,
channel_swap=<span class="params">(<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>)</span>,
raw_scale=<span class="number">255</span>,
image_dims=<span class="params">(<span class="number">256</span>, <span class="number">256</span>)</span>)</span>

filewriter = open<span class="params">(<span class="string">"../data/mydata/result.txt"</span>,<span class="string">"w+"</span>)</span>
labels_file = '../data/mydata/synset_words.txt'
labels = np.loadtxt<span class="params">(labels_file, str, delimiter='\t')</span>
<span class="built_in">#</span>load groundtruth txt to dictionary
groundtruth_file = '../data/mydata/groundtruth/abc.txt'
dict_data = {}
with open<span class="params">(groundtruth_file, 'r')</span> as df:
    <span class="keyword">for</span> kv in [d.strip<span class="params">()</span>.split<span class="params">(' ')</span> <span class="keyword">for</span> d in df]:
    dict_data[kv[<span class="number">0</span>]] = kv[<span class="number">1</span>]

<span class="keyword">for</span> root,dirs,files in os.walk<span class="params">(<span class="string">"/home/xxx/project_data/mydata/abc/"</span>)</span>: <span class="built_in">#</span> all the images are in test folder

    <span class="keyword">for</span> file in files:
    IMAGE_FILE = os.path.join<span class="params">(root,file)</span>.decode<span class="params">('gbk')</span>.encode<span class="params">('utf8')</span>
    <span class="built_in">#</span>print IMAGE_FILE
    input_image = caffe.io.load_image<span class="params">(IMAGE_FILE)</span>
    prediction = net.predict<span class="params">([input_image])</span>
    string = os.path.basename<span class="params">(IMAGE_FILE)</span>+<span class="string">" "</span>+<span class="built_in">str</span><span class="params">(prediction[<span class="number">0</span>].argmax<span class="params">()</span>)</span>+<span class="string">"\n"</span>
    filewriter.write<span class="params">(string)</span>
    <span class="built_in">#</span>print os.path.basename<span class="params">(IMAGE_FILE)</span>, prediction[<span class="number">0</span>].argmax<span class="params">()</span>
    <span class="built_in">#</span> load ImageNet labels

    label_true=dict_data[os.path.basename<span class="params">(IMAGE_FILE)</span>]
    <span class="keyword">if</span> label_true==<span class="built_in">str</span><span class="params">(prediction[<span class="number">0</span>].argmax<span class="params">()</span>)</span>:
        print os.path.basename<span class="params">(IMAGE_FILE)</span>+<span class="string">" "</span>+labels[prediction[<span class="number">0</span>].argmax<span class="params">()</span>]+' '+'v'
    <span class="keyword">else</span>:
        print os.path.basename<span class="params">(IMAGE_FILE)</span>+<span class="string">" "</span>+labels[prediction[<span class="number">0</span>].argmax<span class="params">()</span>]+' '+'x'

filewriter.close<span class="params">()</span>
</code></pre><p><strong>7.plotè®­ç»ƒæµ‹è¯•æ›²çº¿</strong></p>
<p>caffe/tools/extraä¸‹åŒ…å«å‡ ä¸ªæœ‰ç”¨çš„å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬å°†æ—¥å¿—æ–‡ä»¶.logç»˜åˆ¶å‡ºè®­ç»ƒé˜¶æ®µçš„losså˜åŒ–å’Œæµ‹è¯•é˜¶æ®µaccuracyçš„å˜åŒ–æƒ…å†µï¼Œå…·ä½“ï¼š</p>
<pre><code>./parse_log.<span class="keyword">sh</span> xxxx.<span class="keyword">log</span> #è§£ææ—¥å¿—ï¼Œåˆ’åˆ†ä¸ºtrain <span class="keyword">test</span>ä¸¤ä¸ªæ–‡ä»¶

./plot_training_log.py.example 0~7 <span class="keyword">save</span>.png xxxx.<span class="keyword">log</span> #ç»˜åˆ¶å›¾

<span class="keyword">Notes</span>:  
    1. Supporting multiple logs.  
    2. <span class="keyword">Log</span> <span class="keyword">file</span> name must end with the lower-cased <span class="string">".log"</span>.  
Supported chart types:  
    0: <span class="keyword">Test</span> accuracy  vs. Iters  
    1: <span class="keyword">Test</span> accuracy  vs. Seconds  
    2: <span class="keyword">Test</span> loss  vs. Iters  
    3: <span class="keyword">Test</span> loss  vs. Seconds  
    4: Train learning rate  vs. Iters  
    5: Train learning rate  vs. Seconds  
    6: Train loss  vs. Iters  
    7: Train loss  vs. Seconds  
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DeepLearning/">DeepLearning</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Research/">Research</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 Gang Wang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>